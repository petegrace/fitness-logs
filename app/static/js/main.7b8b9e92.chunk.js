(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e){e.exports={GOOGLE_CLIENT_ID:"1031148198561-0v53f4b9vvq0gr1ino2rfp4v677me5nv.apps.googleusercontent.com",GA_TRACKING_ID:"UA-127378589-1"}},33:function(e,t,a){e.exports=a(58)},40:function(e,t){e.exports="data:image/png;base64,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"},48:function(e,t,a){e.exports=a.p+"static/media/training_plan_1.71e3cbe4.jpg"},49:function(e,t,a){e.exports=a.p+"static/media/training_plan_2.b62dbf78.jpg"},50:function(e,t,a){e.exports=a.p+"static/media/create-goal.2d1c1650.jpg"},51:function(e,t,a){e.exports=a.p+"static/media/track_goals.02be3309.jpg"},52:function(e,t,a){e.exports=a.p+"static/media/weekly_analysis.8926a551.jpg"},53:function(e,t,a){e.exports=a.p+"static/media/one_place.be789f70.jpg"},54:function(e,t,a){e.exports=a.p+"static/media/activity_analysis.7b2b0421.jpg"},55:function(e,t,a){e.exports=a.p+"static/media/one-click.13d74688.jpg"},56:function(e,t,a){e.exports=a.p+"static/media/categories.7680e9d1.jpg"},57:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),i=a.n(o),s=a(5),l=a(6),c=a(8),m=a(7),d=a(9),u=a(60),p=a(32),g=a(62),h=a(61),f=a(11),E=a.n(f),y=a(27),v=a(17),w=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).googleResponse=function(t){var a="http://localhost:3000"===window.location.origin?"http://localhost:5000/api/login":origin+"/api/login",n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authType:"Google",google_access_token:t.accessToken}),mode:"cors"};fetch(a,n).then(function(t){if(401===t.status)t.json().then(function(t){e.props.history.push({pathname:"/register",state:{googleEmail:t.email}})});else{var a=t.headers.get("x-auth-token");E.a.set("accessToken",a),t.json().then(function(e){E.a.set("userData",e),window.location.href="/hub"})}})},e.onFailure=function(e){var t="http://localhost:3000"===window.location.origin?"http://localhost:5000/api/monitoring":origin+"/api/monitoring",a=JSON.stringify({type:"error",message:e});fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:a,mode:"cors"}).then(function(e){window.location.href="/error"})},e.state={isAuthenticated:!1,user:null,token:""},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(y.GoogleLogin,{clientId:v.GOOGLE_CLIENT_ID,buttonText:"Login",render:function(e){return r.a.createElement("a",{onClick:e.onClick,href:"#googlelogin"},r.a.createElement("img",{src:a(40),alt:"Sign In with Google"}))},onSuccess:this.googleResponse,onFailure:this.onFailure,uxMode:"popup"})}}]),t}(n.Component),b=Object(h.a)(w),N=a(2),k=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).handleSubmit=function(t,a){var n=a.props,r=(void 0===n&&e.props,a.setSubmitting),o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authType:"direct",email:t.email,password:t.password}),mode:"cors"},i="http://localhost:3000"===window.location.origin?"http://localhost:5000/api/login":origin+"/api/login";fetch(i,o).then(function(t){if(401===t.status)e.setState({serverValidationError:"Incorrect user name or password."});else if(201===t.status){var a=t.headers.get("x-auth-token");E.a.set("accessToken",a),t.json().then(function(e){E.a.set("userData",e),window.location.href="/hub"})}else window.location.href="/error"}).catch(function(e){window.location.href="/error"}),r(!1)},e.state={isAuthenticated:!1,user:null,token:""},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(N.c,{initialValues:{email:"",password:""},validate:this.validateForm,onSubmit:this.handleSubmit,render:function(t){return r.a.createElement(N.b,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label",htmlFor:"email"},"Email"),r.a.createElement(N.a,{component:"input",type:"text",className:"form-control",id:"email",name:"email",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label",htmlFor:"password"},"Password"),r.a.createElement(N.a,{component:"input",type:"password",className:"form-control",id:"password",name:"password",required:!0})),e.state.serverValidationError&&r.a.createElement("div",{className:"form-error mt-2"},e.state.serverValidationError),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("button",{type:"submit",disabled:t.isSubmitting,className:"btn btn-primary"},"Login")),r.a.createElement("div",{className:"col-8 mt-2 text-right"},r.a.createElement(g.a,{to:"/reset_password"},"Forgot your password?"))))}})}}]),t}(n.Component),x=Object(h.a)(k),T=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=E.a.get("accessToken");if(e){var t={method:"GET",headers:{Authorization:"Bearer "+e}},a="http://localhost:3000"===window.location.origin?"http://localhost:5000/api/check_token":window.location.origin+"/api/check_token";fetch(a,t).then(function(e){e.json().then(function(e){"valid"===e.result&&"/hub"!==window.location.pathname&&(window.location.href="/hub")})})}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"display-3"},"Get started",r.a.createElement("div",{className:"d-none d-md-inline"}," now"),"!"),r.a.createElement("div",{className:"lead mb-4"},"If you're new to the site you can sign up quickly using your Google account, or directly using your email address."),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card-body mb-2"},r.a.createElement("h5",{className:"mt-0 mb-3"},"Login with Google account"),r.a.createElement(b,null),r.a.createElement("p",{className:"mt-3 mb-0"},"We'll register your account if you're new to Training Ticks."))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"mt-0"},"Login with email"),r.a.createElement("p",null,"or ",r.a.createElement(g.a,{to:"/register"},"register new account")),r.a.createElement(x,null)))))),r.a.createElement("h1",{className:"display-4"},"Learn more..."),r.a.createElement("div",{className:"row featurette mt-0 pt-2 pb-2"},r.a.createElement("div",{className:"col-md-5"},r.a.createElement("h2",{className:"featurette-heading"},"Create your own customised training plan."),r.a.createElement("p",{className:"lead"},"Improve your training routine by planning your runs, cross-training and strengthening exercises, either as one-off activities or on a recurring weekly basis."),r.a.createElement("p",{className:"lead"},"Then every time you log in you\u2019ll be presented with your planned activities and exercises to tick off for the that day."),r.a.createElement("p",{className:"lead"},"You can create and plan any type of exercise you like but if you want some help getting started we\u2019ve provided some templates for simple strengthening plans designed specifically for runners.")),r.a.createElement("div",{className:"col-md-4 pt-4"},r.a.createElement("img",{className:"featurette-image img-fluid mx-auto",src:a(48),alt:"Create training plan"})),r.a.createElement("div",{className:"col-md-3 pt-4"},r.a.createElement("img",{className:"featurette-image img-fluid mx-auto",src:a(49),alt:"Create training plan"}))),r.a.createElement("div",{className:"row featurette mt-5 pt-2 pb-2 alt-featurette"},r.a.createElement("div",{className:"col-md-4 order-md-3"},r.a.createElement("h2",{className:"featurette-heading"},"Set and track weekly goals."),r.a.createElement("p",{className:"lead"},"You can set training goals for anything from how many runs you want to complete in a week or what distance you're looking to get up to, through to more complex goals based on cadence or hill training."),r.a.createElement("p",{className:"lead"},"Setting goals is easily done from the same interface as you analyse your activity. Your progress is then easily visibly, and you can track multiple goals for the week.")),r.a.createElement("div",{className:"col-md-4 pt-4 order-md-1"},r.a.createElement("img",{className:"featurette-image img-fluid mx-auto",src:a(50),alt:"Create goal"})),r.a.createElement("div",{className:"col-md-4 pt-4 order-md-2"},r.a.createElement("img",{className:"featurette-image img-fluid mx-auto",src:a(51),alt:"Track goals"}))),r.a.createElement("div",{className:"row featurette mt-5 pt-2 pb-2"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h2",{className:"featurette-heading"},"Analyse your activity for the week."),r.a.createElement("p",{className:"lead"},"Training Ticks imports your Strava data and enriches it within the context of your training."),r.a.createElement("p",{className:"lead"},"The Analysis & Goals section lets you see all of your activity for the week in one place under a simple, expandable interface. Charts at the top aggregate your data up to a weekly level and track your goals.")),r.a.createElement("div",{className:"col-md-4 pt-4"},r.a.createElement("img",{className:"featurette-image img-fluid mx-auto",src:a(52),alt:"Weekly Analysis"})),r.a.createElement("div",{className:"col-md-4 pt-4"},r.a.createElement("img",{className:"featurette-image img-fluid mx-auto",src:a(53),alt:"Weekly Activity"}))),r.a.createElement("div",{className:"row featurette mt-5 pt-2 pb-2 alt-featurette"},r.a.createElement("div",{className:"col-md-7 order-md-2"},r.a.createElement("h2",{className:"featurette-heading"},"Cadence analysis on your Strava activities."),r.a.createElement("p",{className:"lead"},"If your Strava activity includes cadence data then Training Ticks will import it and provide you with insightful visualisations so you can understand your natural cadence and how it changes from activity to activity.  Great for interval training training and working on your leg speed.")),r.a.createElement("div",{className:"col-md-5 pt-4 order-md-1"},r.a.createElement("img",{className:"featurette-image img-fluid mx-auto",src:a(54),alt:"Activity Analysis"}))),r.a.createElement("div",{className:"row featurette mt-5 pt-2 pb-2"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("h2",{className:"featurette-heading"},"Record strengthening exercises with just one click."),r.a.createElement("p",{className:"lead"},"Training Ticks gives you an easy-to-use tool for tracking your strength and conditioning workouts, or any other kinds of exercises that you like to include in your training."),r.a.createElement("p",{className:"lead"},"Once you've logged an exercise type for the first time it becomes available as a new button to record again using default reps or time to hold."),r.a.createElement("p",{className:"lead"},"If you've already recorded your activity in Strava then just Connect With Strava to see all of your training in one place.")),r.a.createElement("div",{className:"col-md-4 pt-4"},r.a.createElement("img",{className:"featurette-image img-fluid mx-auto",src:a(55),alt:"One-click activities"}))),r.a.createElement("div",{className:"row featurette mt-5 pt-2 pb-2 alt-featurette"},r.a.createElement("div",{className:"col-md-7 order-md-2"},r.a.createElement("h2",{className:"featurette-heading"},"Categorisation and colour-coding."),r.a.createElement("p",{className:"lead"},"Set your own categories for activities and exercises to give yourself a more user-friendly interface through colour-coding of activities, and allow you to segment your activities when analysing.")),r.a.createElement("div",{className:"col-md-5 pt-4 order-md-1"},r.a.createElement("img",{className:"featurette-image img-fluid mx-auto",src:a(56),alt:"Categories"}))))}}]),t}(n.Component),j=Object(h.a)(T),O=a(24),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e,t){var n=t.props,r=(void 0===n&&a.props,t.setSubmitting),o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authType:a.state.authType,email:"Google"===a.state.authType?a.state.googleEmail:e.email,password:e.password,first_name:e.first_name,last_name:e.last_name,opt_in_to_marketing_emails:e.opt_in_to_marketing_emails}),mode:"cors"},i="http://localhost:3000"===window.location.origin?"http://localhost:5000/api/register":origin+"/api/register";fetch(i,o).then(function(e){if(409===e.status)a.setState({serverValidationError:"Email address is already registered. Please log in or reset your password instead."});else if(201!==e.status)window.location.href="/error";else{var t=e.headers.get("x-auth-token");E.a.set("accessToken",t),e.json().then(function(e){E.a.set("userData",e),window.location.href="/hub?is_new_user=True"})}}).catch(function(e){window.location.href="/error"}),r(!1)},a.validateForm=function(e){var t={};return"direct"===a.state.authType&&(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"),e.password2!==e.password&&(t.password2="Passwords do not match")),t},a.state={authType:"direct",googleEmail:"Unknown"},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.location.state&&this.setState({authType:"Google",googleEmail:this.props.location.state.googleEmail})}},{key:"componentDidMount",value:function(){O.a.initialize(v.GOOGLE_CLIENT_ID),O.a.pageview("/#/register")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"display-4"},"Google"===this.state.authType&&"Complete your registration","direct"===this.state.authType&&"Register for Training Ticks"),r.a.createElement(N.c,{initialValues:{consent_privacy:!1,opt_in_to_marketing_emails:!1,email:"",first_name:"",last_name:"",password:"",password2:""},validate:this.validateForm,onSubmit:this.handleSubmit,render:function(t){return r.a.createElement(r.a.Fragment,null,"Google"===e.state.authType&&r.a.createElement(N.b,null,r.a.createElement("p",null,"Welcome ",r.a.createElement("strong",null,e.state.googleEmail),"! As this is your first time signing in we need to check you're happy with us storing and processing the data that you provide to us. To complete your registration and get started with Training Ticks, please confirm that you consent to us using this data in accordance with our ",r.a.createElement("a",{href:"/privacy"},"Privacy Policy"),"."),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-1 pt-1 text-md-right"},r.a.createElement(N.a,{type:"checkbox",id:"consent_privacy",name:"consent_privacy",checked:t.values.consent_privacy,required:!0})),r.a.createElement("div",{className:"col-sm-11"},r.a.createElement("label",{htmlFor:"consent_privacy"},"I consent for Training Ticks to store and process my data as per the Privacy Policy."))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-1 pt-1 text-md-right"},r.a.createElement(N.a,{type:"checkbox",id:"opt_in_to_marketing_emails",name:"opt_in_to_marketing_emails",checked:t.values.opt_in_to_marketing_emails})),r.a.createElement("div",{className:"col-sm-11"},r.a.createElement("label",{htmlFor:"opt_in_to_marketing_emails"},"(Optional) I'd like to receive occasional updates from Training Ticks to tell me about new features being released or in development and that might help me out with my training."))),r.a.createElement("p",null,r.a.createElement("button",{type:"submit",disabled:t.isSubmitting,className:"btn btn-primary mr-2"},"Complete Registration"),r.a.createElement(g.a,{to:"/",className:"btn btn-secondary"},"Cancel"))),"direct"===e.state.authType&&r.a.createElement(N.b,null,r.a.createElement("p",null,"Already have an account? ",r.a.createElement(g.a,{to:"/"},"Sign in to your account")," instead."),r.a.createElement("div",{className:"col-md-7 pl-0"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label",htmlFor:"email"},"Email"),r.a.createElement(N.a,{component:"input",type:"text",className:"form-control",id:"email",name:"email",required:!0}),t.errors.email&&t.touched.email&&r.a.createElement("div",{className:"form-error mt-2"},t.errors.email),e.state.serverValidationError&&r.a.createElement("div",{className:"form-error mt-2"},e.state.serverValidationError)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label",htmlFor:"first_name"},"First Name"),r.a.createElement(N.a,{component:"input",type:"text",className:"form-control",id:"first_name",name:"first_name",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label",htmlFor:"last_name"},"Last Name"),r.a.createElement(N.a,{component:"input",type:"text",className:"form-control",id:"last_name",name:"last_name",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label",htmlFor:"password"},"Password"),r.a.createElement(N.a,{component:"input",type:"password",className:"form-control",id:"password",name:"password",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label",htmlFor:"password2"},"Confirm Password"),r.a.createElement(N.a,{component:"input",type:"password",className:"form-control",id:"password2",name:"password2",required:!0}),t.errors.password2&&t.touched.password2&&r.a.createElement("div",{className:"form-error mt-2"},t.errors.password2))),r.a.createElement("p",null,"To complete your registration, we need to check you're happy with us storing and processing the data that you provide to us. To complete your registration and get started with Training Ticks, please confirm that you consent to us using this data in accordance with our ",r.a.createElement("a",{href:"/privacy"},"Privacy Policy"),"."),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-1 pt-1 text-md-right"},r.a.createElement(N.a,{type:"checkbox",id:"consent_privacy",name:"consent_privacy",checked:t.values.consent_privacy,required:!0})),r.a.createElement("div",{className:"col-sm-11"},r.a.createElement("label",{htmlFor:"consent_privacy"},"I consent for Training Ticks to store and process my data as per the Privacy Policy."))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-1 pt-1 text-md-right"},r.a.createElement(N.a,{type:"checkbox",id:"opt_in_to_marketing_emails",name:"opt_in_to_marketing_emails",checked:t.values.opt_in_to_marketing_emails})),r.a.createElement("div",{className:"col-sm-11"},r.a.createElement("label",{htmlFor:"opt_in_to_marketing_emails"},"(Optional) I'd like to receive occasional updates from Training Ticks to tell me about new features being released or in development and that might help me out with my training."))),r.a.createElement("p",null,r.a.createElement("button",{type:"submit",disabled:t.isSubmitting,className:"btn btn-primary mr-2"},"Register"),r.a.createElement(g.a,{to:"/",className:"btn btn-secondary"},"Cancel"))))}})))}}]),t}(n.Component),C=Object(h.a)(A),S=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).handleSubmit=function(t,a){var n=a.props,r=(void 0===n&&e.props,a.setSubmitting),o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email}),mode:"cors"},i="http://localhost:3000"===window.location.origin?"http://localhost:5000/api/reset_password_request":origin+"/api/reset_password_request";fetch(i,o).then(function(t){401===t.status?e.setState({serverValidationError:"Email address not recognised as a Training Ticks user."}):204===t.status?e.setState({passwordResetSent:!0}):window.location.href="/error"}).catch(function(e){window.location.href="/error"}),r(!1)},e.state={passwordResetSent:!1},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"container"},this.state.passwordResetSent&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"display-4"},"Check your email"),r.a.createElement("div",{className:"lead"},"We've sent you a temporary link that you can use to reset your password.")),!this.state.passwordResetSent&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"display-4"},"Reset your password"),r.a.createElement(N.c,{initialValues:{email:""},validate:this.validateForm,onSubmit:this.handleSubmit,render:function(t){return r.a.createElement("div",{className:"col-6 p-0"},r.a.createElement(N.b,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label",htmlFor:"email"},"Enter your email address below and we'll send you a link you can use to set a new password for Training Ticks."),r.a.createElement(N.a,{component:"input",type:"text",className:"form-control",id:"email",name:"email",required:!0})),e.state.serverValidationError&&r.a.createElement("div",{className:"form-error mt-2"},e.state.serverValidationError),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",disabled:t.isSubmitting,className:"btn btn-primary mr-2"},"Reset my password"),r.a.createElement(g.a,{to:"/",className:"btn btn-secondary"},"Cancel"))))}}))))}}]),t}(n.Component),F=Object(h.a)(S),z=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement(p.a,{exact:!0,path:"/",component:j}),r.a.createElement(p.a,{path:"/register",component:C}),r.a.createElement(p.a,{path:"/reset_password",component:F})))}}]),t}(n.Component);a(57);i.a.render(r.a.createElement(z,null),document.getElementById("container"))}},[[33,1,2]]]);
//# sourceMappingURL=main.7b8b9e92.chunk.js.map