{"version":3,"sources":["static/img/btn_strava_connectwith_orange.png","actions/actionTypes.js","api/PlannedActivitiesApi.js","api/PlannedActivityApi.js","actions/plannedActivityActions.js","actions/plannedRaceActions.js","actions/plannedExerciseActions.js","api/CompletedExercisesApi.js","api/CompletedExerciseApi.js","actions/alertActions.js","actions/completedExerciseActions.js","api/CompletedActivitiesApi.js","actions/combinedRecentActivityActions.js","api/UserApi.js","actions/userActions.js","api/ActivityTypesApi.js","actions/activityTypeActions.js","actions/exerciseTypeActions.js","actions/exerciseCategoryActions.js","api/AnnualStatsApi.js","actions/annualStatsActions.js","components/Alert.js","components/StravaImportButton.js","components/TodoContainer.js","helpers/trainingPlan.js","components/CounterBox.js","components/CountersContainer.js","components/RecentActivityContainer.js","actions/completedActivityActions.js","components/StravaImportContainer.js","components/ExerciseTypeButtonSet.js","components/CompletedExerciseFormModal.js","components/App.js","index.js","reducers/combinedRecentActivitiesReducer.js","reducers/completedActivitiesReducer.js","reducers/plannedActivitiesReducer.js","reducers/completedExercisesReducer.js","reducers/plannedExercisesReducer.js","reducers/userReducer.js","reducers/exerciseTypesReducer.js","reducers/exerciseCategoriesReducer.js","reducers/annualStatsReducer.js","reducers/alertReducer.js"],"names":["module","exports","LOAD_PLANNED_ACTIVITIES","LOAD_PLANNED_ACTIVITIES_SUCCESS","DELETE_PLANNED_ACTIVITY_SUCCESS","UPDATE_PLANNED_ACTIVITY_SUCCESS","ADD_PLANNED_ACTIVITY_SUCCESS","LOAD_PLANNED_RACES_SUCCESS","LOAD_PLANNED_EXERCISES_SUCCESS","LOAD_COMPLETED_ACTIVITIES","LOAD_COMPLETED_ACTIVITIES_SUCCESS","ADD_COMPLETED_ACTIVITIES","ADD_COMPLETED_ACTIVITIES_SUCCESS","LOAD_COMBINED_RECENT_ACTIVITIES","LOAD_COMBINED_RECENT_ACTIVITIES_SUCCESS","LOAD_COMPLETED_EXERCISES_SUCCESS","ADD_COMPLETED_EXERCISE","ADD_COMPLETED_EXERCISE_SUCCESS","UPDATE_COMPLETED_EXERCISE","UPDATE_COMPLETED_EXERCISE_SUCCESS","LOAD_ACTIVITY_TYPES","LOAD_ACTIVITY_TYPES_SUCCESS","LOAD_EXERCISE_TYPES_SUCCESS","LOAD_EXERCISE_CATEGORIES_SUCCESS","LOAD_USER_INFO","LOAD_USER_INFO_SUCCESS","UPDATE_USER_INFO","UPDATE_USER_INFO_SUCCESS","STORE_USER_STRAVA_ACCESS_TOKEN","LOAD_ANNUAL_STATS","LOAD_ANNUAL_STATS_SUCCESS","SHOW_ALERT","ERROR_ENCOUNTERED","PlannedActivitiesApi","_this","this","Object","classCallCheck","getPlannedActivities","startDate","endDate","options","method","headers","Authorization","authHeader","endpoint","endpointOrigin","dateFns","dateFormat","fetch","then","response","ok","json","catch","error","postPlannedActivities","requestBody","Content-Type","body","mode","accessToken","ls","get","window","location","origin","PlannedActivityApi","patchPlannedActivity","id","deletePlannedActivity","scope","Error","statusText","loadPlannedActivities","dispatch","defineProperty","type","types","pendingTask","begin","responseData","loadPlannedActivitiesSuccess","plannedRaces","planned_races","loadPlannedRacesSuccess","plannedExercises","planned_exercises","loadPlannedExercisesSuccess","end","_ref","planned_activities","addPlannedActivity","addPlannedActivitySuccess","addedId","updatePlannedActivity","result","updatePlannedActivitySuccess","updatedId","deletePlannedActivitySuccess","deletedId","CompletedExercisesApi","postCompletedExercises","CompletedExerciseApi","patchCompletedExercise","showAlert","alertMessage","actionLinkText","actionFormInitData","loadCompletedExercisesSuccess","completedExercises","completed_exercises","dispatchCompletedExerciseAlert","operation","exercise_name","exercise_datetime","format","Date","measured_by","reps","seconds","addCompletedExercise","addCompletedExerciseSuccess","updateCompletedExercise","updateCompletedExerciseSuccess","_ref2","CompletedActivitiesApi","getCompletedActivities","getRecentActivities","pageNo","pageSize","combineExercises","postCompletedActivities","loadCombinedRecentActivities","loadCombinedRecentActivitiesSuccess","page_no","prev_page_no","next_page_no","activities_and_exercises","UserApi","getUserInfo","patchUserInfo","loadUserInfo","loadUserInfoSuccess","user_info","updateUserInfo","updateUserInfoSuccess","updated_user_info","updateUserStravaAccessToken","stravaAccessToken","ActivityTypesApi","getActivityTypes","loadActivityTypes","loadActivityTypesSuccess","exerciseTypes","exercise_types","loadExerciseTypesSuccess","exerciseCategories","exercise_categories","loadExerciseCategoriesSuccess","activity_types","AnnualStatsApi","getAnnualStats","loadAnnualStats","loadAnnualStatsSuccess","Alert","alert","props","react_default","a","createElement","Fragment","className","message","href","onClick","onActionLinkClick","Component","connect","state","StravaImportButton","redirectUri","stravaAuthCreds","user","clientId","strava_client_id","clientSecret","strava_client_secret","react_oauth_flow_m","authorizeUrl","args","render","url","role","buttonClass","buttonContent","TodoContainer","possibleConstructorReturn","getPrototypeOf","call","handleCompleteExercise","plannedExerciseId","JSON","stringify","planned_exercise_id","completedExerciseActions","plannedActivityActions","weekStartDate","today","combinedRecentActivityActions","annualStatsActions","renderPlannedActivityButton","plannedActivity","category_key","key","components_StravaImportButton","activity_type","description","planned_distance_formatted","renderPlannedExerciseButton","plannedExercise","planned_reps","planned_seconds","planned_sets","completed_sets","weekStartsOn","planningPeriod","planningPeriodDate","planningPeriodDateFormatted","planningPeriodFriendlyDescription","hasPlannedActivityForToday","has_planned_activity_for_today","hasPlannedActivityForThisWeek","has_planned_activity_for_this_week","hasPlannedActivityForPeriod","plannedActivities","day","jsonDate","filter","planned_date","planning_period","filterPlannedActivities","plannedActivityButtons","map","plannedExerciseCategories","plannedExerciseCategory","filterPlannedExercises","plannedExerciseButtons","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","push","exercises","err","return","length","bindActionCreators","CounterBox","classes","categoryKey","categoryName","uom","CountersContainer","createCounterBoxes","counter","components_CounterBox","category_name","counters","annualStats","counterBoxes","heading","RecentActivityContainer","handleViewNewerActivity","combinedRecentActivities","prevPageNo","handleViewOlderActivity","nextPageNo","renderRecentActivityRow","recentActivity","activityUrl","viewOnStravaUrl","external_id","exerciseDatetimeFormatted","activity_datetime","editFormInitData","name","scheduled_exercise_id","is_race","source","distance_formatted","onEditCompletedExercise","_this2","recentActivities","activitiesAndExercises","recentActivityRows","newerNavClass","olderNavClass","loadCompletedActivities","loadCompletedActivitiesSuccess","completed_activities","addCompletedActivities","addCompletedActivitiesSuccess","messages","StravaImportContainer","handleAuthorizationSuccess","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","userActions","set","strava_access_token","completedActivityActions","stop","_x","_x2","apply","arguments","handleAuthorizationError","console","log","startOfWeek","urlParams","URLSearchParams","search","src","require","alt","has","tokenUrl","onAuthSuccess","onAuthError","ExerciseTypeButtonSet","renderExerciseTypeButton","exerciseType","onAdd","default_reps","default_seconds","exerciseTypeIdsToExclude","exerciseTypeButtons","includes","CompletedExerciseFormModal","renderCategorySelectOption","categoryOption","initData","initialize","categorySelectOptions","_this$props","handleSubmit","isNewExerciseType","categoryOptions","close","onSubmit","Field","component","renderField","label","htmlFor","measuredByValue","input","_ref$meta","meta","touched","warning","assign","reduxForm","form","selector","formValueSelector","App","handleCompleteAdhocExercise","exerciseTypeId","exercise_type_id","formInitData","exercise_category_id","setState","showCompletedExerciseForm","completedExerciseFormInitData","handleEditCompletedExercise","handleSaveCompletedExercise","values","activityTypeActions","handleCloseCompletedExerciseForm","exerciseTypeIdsToExcludeFromAdhocButtons","categoryAndPeriodGroup","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","exercise","esm","components_Alert","has_flexible_planning_enabled","components_TodoContainer","components_RecentActivityContainer","components_StravaImportContainer","components_ExerciseTypeButtonSet","calendarDay","components_CountersContainer","components_CompletedExerciseFormModal","rootReducer","combineReducers","formReducer","action","completedActivities","objectSpread","distance_uom_preference","userInfo","updatedUserInfo","pendingTasks","pendingTasksReducer","store","createStore","applyMiddleware","thunk","ReactDOM","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.892dda9a.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","export const LOAD_PLANNED_ACTIVITIES = \"LOAD_PLANNED_ACTIVITIES\";\r\nexport const LOAD_PLANNED_ACTIVITIES_SUCCESS = \"LOAD_PLANNED_ACTIVITIES_SUCCESS\";\r\nexport const DELETE_PLANNED_ACTIVITY = \"DELETE_PLANNED_ACTIVITY\";\r\nexport const DELETE_PLANNED_ACTIVITY_SUCCESS = \"DELETE_PLANNED_ACTIVITY_SUCCESS\";\r\nexport const UPDATE_PLANNED_ACTIVITY = \"UPDATE_PLANNED_ACTIVITY\";\r\nexport const UPDATE_PLANNED_ACTIVITY_SUCCESS = \"UPDATE_PLANNED_ACTIVITY_SUCCESS\";\r\nexport const ADD_PLANNED_ACTIVITY = \"ADD_PLANNED_ACTIVITY\";\r\nexport const ADD_PLANNED_ACTIVITY_SUCCESS = \"ADD_PLANNED_ACTIVITY_SUCCESS\";\r\n\r\nexport const LOAD_PLANNED_RACES = \"LOAD_PLANNED_RACES\";\r\nexport const LOAD_PLANNED_RACES_SUCCESS = \"LOAD_PLANNED_RACES_SUCCESS\";\r\nexport const DELETE_PLANNED_RACE = \"DELETE_PLANNED_RACE\";\r\nexport const DELETE_PLANNED_RACE_SUCCESS = \"DELETE_PLANNED_RACE_SUCCESS\";\r\nexport const UPDATE_PLANNED_RACE = \"UPDATE_PLANNED_RACE\";\r\nexport const UPDATE_PLANNED_RACE_SUCCESS = \"UPDATE_PLANNED_RACE_SUCCESS\";\r\nexport const ADD_PLANNED_RACE = \"ADD_PLANNED_RACE\";\r\nexport const ADD_PLANNED_RACE_SUCCESS = \"ADD_PLANNED_RACE_SUCCESS\";\r\n\r\nexport const LOAD_PLANNED_EXERCISES = \"LOAD_PLANNED_EXERCISES\";\r\nexport const LOAD_PLANNED_EXERCISES_SUCCESS = \"LOAD_PLANNED_EXERCISES_SUCCESS\";\r\nexport const DELETE_PLANNED_EXERCISE = \"DELETE_PLANNED_EXERCISE\";\r\nexport const DELETE_PLANNED_EXERCISE_SUCCESS = \"DELETE_PLANNED_EXERCISE_SUCCESS\";\r\nexport const UPDATE_PLANNED_EXERCISE = \"UPDATE_PLANNED_EXERCISE\";\r\nexport const UPDATE_PLANNED_EXERCISE_SUCCESS = \"UPDATE_PLANNED_EXERCISE_SUCCESS\";\r\nexport const ADD_PLANNED_EXERCISE = \"ADD_PLANNED_EXERCISE\";\r\nexport const ADD_PLANNED_EXERCISE_SUCCESS = \"ADD_PLANNED_EXERCISE_SUCCESS\";\r\n\r\nexport const LOAD_COMPLETED_ACTIVITIES = \"LOAD_COMPLETED_ACTIVITIES\";\r\nexport const LOAD_COMPLETED_ACTIVITIES_SUCCESS = \"LOAD_COMPLETED_ACTIVITIES_SUCCESS\";\r\nexport const ADD_COMPLETED_ACTIVITIES = \"ADD_COMPLETED_ACTIVITIES\";\r\nexport const ADD_COMPLETED_ACTIVITIES_SUCCESS = \"ADD_COMPLETED_ACTIVITIES_SUCCESS\";\r\n\r\nexport const LOAD_COMBINED_RECENT_ACTIVITIES = \"LOAD_COMBINED_RECENT_ACTIVITIES\";\r\nexport const LOAD_COMBINED_RECENT_ACTIVITIES_SUCCESS = \"LOAD_COMBINED_RECENT_ACTIVITIES_SUCCESS\";\r\n\r\nexport const LOAD_COMPLETED_EXERCISES_SUCCESS = \"LOAD_COMPLETED_EXERCISES_SUCCESS\";\r\nexport const ADD_COMPLETED_EXERCISE = \"ADD_COMPLETED_EXERCISE\";\r\nexport const ADD_COMPLETED_EXERCISE_SUCCESS = \"ADD_COMPLETED_EXERCISE_SUCCESS\";\r\nexport const UPDATE_COMPLETED_EXERCISE = \"UPDATE_COMPLETED_EXERCISE\";\r\nexport const UPDATE_COMPLETED_EXERCISE_SUCCESS = \"UPDATE_COMPLETED_EXERCISE_SUCCESS\";\r\n\r\nexport const LOAD_ACTIVITY_TYPES = \"LOAD_ACTIVITY_TYPES\";\r\nexport const LOAD_ACTIVITY_TYPES_SUCCESS = \"LOAD_ACTIVITY_TYPES_SUCCESS\";\r\n\r\nexport const LOAD_EXERCISE_TYPES_SUCCESS = \"LOAD_EXERCISE_TYPES_SUCCESS\";\r\n\r\nexport const LOAD_EXERCISE_CATEGORIES_SUCCESS = \"LOAD_EXERCISE_CATEGORIES_SUCCESS\";\r\n\r\nexport const LOAD_TRAINING_PLAN_TEMPLATES_SUCCESS = \"LOAD_TRAINING_PLAN_TEMPLATES_SUCCESS\";\r\nexport const COPY_TRAINING_PLAN_TEMPLATE_SUCCESS = \"COPY_TRAINING_PLAN_TEMPLATE_SUCCESS\";\r\n\r\nexport const LOAD_USER_INFO = \"LOAD_USER_INFO\";\r\nexport const LOAD_USER_INFO_SUCCESS = \"LOAD_USER_INFO_SUCCESS\";\r\nexport const UPDATE_USER_INFO = \"UPDATE_USER_INFO\";\r\nexport const UPDATE_USER_INFO_SUCCESS = \"UPDATE_USER_INFO_SUCCESS\";\r\nexport const STORE_USER_STRAVA_ACCESS_TOKEN = \"STORE_USER_STRAVA_ACCESS_TOKEN\";\r\n\r\nexport const LOAD_ANNUAL_STATS = \"LOAD_ANNUAL_STATS\";\r\nexport const LOAD_ANNUAL_STATS_SUCCESS = \"LOAD_ANNUAL_STATS_SUCCESS\";\r\n\r\nexport const SHOW_ALERT = \"SHOW_ALERT\";\r\n\r\nexport const ERROR_ENCOUNTERED = \"ERROR_ENCOUNTERED\";","import * as dateFns from \"date-fns\";\r\nimport ls from \"local-storage\";\r\n                \r\nclass PlannedActivitiesApi {\r\n    constructor() {\r\n        const accessToken = ls.get(\"accessToken\");\r\n\r\n        this.authHeader = \"Bearer \" + accessToken;\r\n        this.endpointOrigin = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000\" : (window.location.origin);\r\n        this.dateFormat = \"YYYY-MM-DD\";\r\n    }\r\n    \r\n    getPlannedActivities = (startDate, endDate) => {\r\n        const options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader\r\n            }\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/planned_activities?\"\r\n                                             + \"startDate=\" + dateFns.format(startDate, this.dateFormat)\r\n                                             + \"&endDate=\" + dateFns.format(endDate, this.dateFormat);\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            return error;\r\n        });\r\n    }\r\n    \r\n    postPlannedActivities = (requestBody) => {\r\n        const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: requestBody,\r\n            mode: \"cors\"\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/planned_activities\";\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            return error;\r\n        });\r\n    }\r\n}\r\n\r\nexport default PlannedActivitiesApi;","import ls from \"local-storage\";\r\n                \r\nclass PlannedActivityApi {\r\n    constructor() {\r\n        const accessToken = ls.get(\"accessToken\");\r\n\r\n        this.authHeader = \"Bearer \" + accessToken;\r\n        this.endpointOrigin = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000\" : (window.location.origin);\r\n    }\r\n\r\n    patchPlannedActivity = (id, requestBody) => {\r\n        const options = {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: requestBody,\r\n            mode: \"cors\"\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/planned_activity/\" + id;\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return true;\r\n            }\r\n        }).catch(error => {\r\n            return error;\r\n        });\r\n    }\r\n\r\n    deletePlannedActivity = (id, scope) => {\r\n        const options = {\r\n            method: \"DELETE\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader\r\n            }\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/planned_activity/\" + id + \"?scope=\" + scope;\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return true;\r\n            } else {\r\n                throw Error(response.statusText);\r\n            }\r\n        }).catch(error => {\r\n            return error;\r\n        });\r\n    }\r\n}\r\n\r\nexport default PlannedActivityApi;","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport PlannedActivitiesApi from \"../api/PlannedActivitiesApi\";\r\nimport PlannedActivityApi from \"../api/PlannedActivityApi\";\r\nimport { loadPlannedRacesSuccess } from \"./plannedRaceActions\";\r\nimport { loadPlannedExercisesSuccess } from \"./plannedExerciseActions\";\r\n\r\nexport function loadPlannedActivities(startDate, endDate) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.LOAD_PLANNED_ACTIVITIES,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new PlannedActivitiesApi();\r\n        return api.getPlannedActivities(startDate, endDate).then(responseData => {\r\n            if (responseData) {\r\n                dispatch(loadPlannedActivitiesSuccess(responseData));\r\n                dispatch(loadPlannedRacesSuccess(responseData));\r\n                dispatch(loadPlannedExercisesSuccess(responseData));\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            })\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function loadPlannedActivitiesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_PLANNED_ACTIVITIES_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        plannedActivities: responseData.planned_activities\r\n    };\r\n}\r\n\r\nexport function addPlannedActivity(requestBody) {\r\n    return function(dispatch) {\r\n        const api = new PlannedActivitiesApi();\r\n        return api.postPlannedActivities(requestBody).then(responseData => {\r\n            dispatch(addPlannedActivitySuccess(responseData));\r\n        }).catch(error => {\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function addPlannedActivitySuccess(responseData) {\r\n    return {\r\n        type: types.ADD_PLANNED_ACTIVITY_SUCCESS,\r\n        addedId: responseData.id\r\n    };\r\n}\r\n\r\nexport function updatePlannedActivity(id, requestBody) {\r\n    return function(dispatch) {\r\n        const api = new PlannedActivityApi();\r\n        return api.patchPlannedActivity(id, requestBody).then(result => {\r\n            dispatch(updatePlannedActivitySuccess(id));\r\n        }).catch(error => {\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function updatePlannedActivitySuccess(id) {\r\n    return {\r\n        type: types.UPDATE_PLANNED_ACTIVITY_SUCCESS,\r\n        updatedId: id\r\n    };\r\n}\r\n\r\nexport function deletePlannedActivity(id, scope) {\r\n    return function(dispatch) {\r\n        const api = new PlannedActivityApi();\r\n        return api.deletePlannedActivity(id, scope).then(result => {\r\n            dispatch(deletePlannedActivitySuccess(id, scope));\r\n        }).catch(error => {\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function deletePlannedActivitySuccess(id, scope) {\r\n    return {\r\n        type: types.DELETE_PLANNED_ACTIVITY_SUCCESS,\r\n        deletedId: id,\r\n        scope: scope\r\n    };\r\n}","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport PlannedRacesApi from \"../api/PlannedRacesApi\";\r\nimport PlannedRaceApi from \"../api/PlannedRaceApi\";\r\n\r\nexport function loadPlannedRacesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_PLANNED_RACES_SUCCESS,\r\n        plannedRaces: responseData.planned_races\r\n    };\r\n}\r\n\r\nexport function addPlannedRace(requestBody) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.ADD_PLANNED_RACE,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new PlannedRacesApi();\r\n        return api.postPlannedRaces(requestBody).then(responseData => {\r\n            dispatch(addPlannedRaceSuccess(responseData));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function addPlannedRaceSuccess(responseData) {\r\n    return {\r\n        type: types.ADD_PLANNED_RACE_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        addedId: responseData.id\r\n    };\r\n}\r\n\r\nexport function updatePlannedRace(id, requestBody) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.UPDATE_PLANNED_RACE,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new PlannedRaceApi();\r\n        return api.patchPlannedRace(id, requestBody).then(result => {\r\n            dispatch(updatePlannedRaceSuccess(id));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function updatePlannedRaceSuccess(id) {\r\n    return {\r\n        type: types.UPDATE_PLANNED_RACE_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        updatedId: id\r\n    };\r\n}\r\n\r\nexport function deletePlannedRace(id) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.DELETE_PLANNED_RACE,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new PlannedRaceApi();\r\n        return api.deletePlannedRace(id).then(result => {\r\n            dispatch(deletePlannedRaceSuccess(id));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function deletePlannedRaceSuccess(id) {\r\n    return {\r\n        type: types.DELETE_PLANNED_RACE_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        deletedId: id\r\n    };\r\n}","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport PlannedExerciseApi from \"../api/PlannedExerciseApi\";\r\nimport PlannedExercisesApi from \"../api/PlannedExercisesApi\";\r\n\r\nexport function loadPlannedExercisesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_PLANNED_EXERCISES_SUCCESS,\r\n        plannedExercises: responseData.planned_exercises\r\n    };\r\n}\r\n\r\nexport function addPlannedExercise(requestBody) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.ADD_PLANNED_EXERCISE,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new PlannedExercisesApi();\r\n        return api.postPlannedExercises(requestBody).then(responseData => {\r\n            dispatch(addPlannedExerciseSuccess(responseData));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function addPlannedExerciseSuccess(responseData) {\r\n    return {\r\n        type: types.ADD_PLANNED_EXERCISE_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        addedId: responseData.id\r\n    };\r\n}\r\n\r\nexport function updatePlannedExercise(id, requestBody) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.UPDATE_PLANNED_EXERCISE,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new PlannedExerciseApi();\r\n        return api.patchPlannedExercise(id, requestBody).then(result => {\r\n            dispatch(updatePlannedExerciseSuccess(id));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function updatePlannedExerciseSuccess(id) {\r\n    return {\r\n        type: types.UPDATE_PLANNED_EXERCISE_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        updatedId: id\r\n    };\r\n}\r\n\r\nexport function deletePlannedExercise(id, scope) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.DELETE_PLANNED_EXERCISE,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new PlannedExerciseApi();\r\n        return api.deletePlannedExercise(id, scope).then(result => {\r\n            dispatch(deletePlannedExerciseSuccess(id));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function deletePlannedExerciseSuccess(id, scope) {\r\n    return {\r\n        type: types.DELETE_PLANNED_EXERCISE_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        deletedId: id,\r\n        scope: scope\r\n    };\r\n}","import ls from \"local-storage\";\r\n                \r\nclass CompletedExercisesApi {\r\n    constructor() {\r\n        const accessToken = ls.get(\"accessToken\");\r\n\r\n        this.authHeader = \"Bearer \" + accessToken;\r\n        this.endpointOrigin = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000\" : (window.location.origin);\r\n    }\r\n    \r\n    postCompletedExercises = (requestBody) => {\r\n        const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: requestBody,\r\n            mode: \"cors\"\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/completed_exercises\";\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            throw error;\r\n        });\r\n    }\r\n}\r\n\r\nexport default CompletedExercisesApi","import ls from \"local-storage\";\r\n                \r\nclass CompletedExerciseApi {\r\n    constructor() {\r\n        const accessToken = ls.get(\"accessToken\");\r\n\r\n        this.authHeader = \"Bearer \" + accessToken;\r\n        this.endpointOrigin = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000\" : (window.location.origin);\r\n    }\r\n\r\n    patchCompletedExercise = (id, requestBody) => {\r\n        const options = {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: requestBody,\r\n            mode: \"cors\"\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/completed_exercise/\" + id;\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            throw error;\r\n        });\r\n    }\r\n}\r\n\r\nexport default CompletedExerciseApi;","import * as types from \"./actionTypes\";\r\n\r\nexport function showAlert(alertMessage, actionLinkText, actionFormInitData) {\r\n    return {\r\n        type: types.SHOW_ALERT,\r\n        alertMessage: alertMessage,\r\n        actionLinkText: actionLinkText,\r\n        actionFormInitData: actionFormInitData\r\n    };\r\n}","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\nimport { format } from \"date-fns\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport CompletedExercisesApi from \"../api/CompletedExercisesApi\";\r\nimport CompletedExerciseApi from \"../api/CompletedExerciseApi\";\r\nimport { showAlert } from \"./alertActions\";\r\n\r\nexport function loadCompletedExercisesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_COMPLETED_EXERCISES_SUCCESS,\r\n        completedExercises: responseData.completed_exercises\r\n    };\r\n}\r\n\r\nfunction dispatchCompletedExerciseAlert(operation, responseData, dispatch) {\r\n    const alertMessage = operation + \" \" + responseData.exercise_name + \".\";\r\n    const actionLinkText = \"Edit\";\r\n    const actionFormInitData = {\r\n        id: responseData.id,\r\n        exercise_name: responseData.exercise_name,\r\n        exercise_datetime: format(new Date(responseData.exercise_datetime), \"ddd DD MMM HH:mm:ss\"),\r\n        measured_by: responseData.measured_by,\r\n        reps: responseData.reps,\r\n        seconds: responseData.seconds\r\n    };\r\n    dispatch(showAlert(alertMessage, actionLinkText, actionFormInitData));\r\n}\r\n\r\nexport function addCompletedExercise(requestBody) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.ADD_COMPLETED_EXERCISE,\r\n            [ pendingTask ]: begin\r\n        });\r\n\r\n        const api = new CompletedExercisesApi();\r\n        return api.postCompletedExercises(requestBody).then(responseData => {\r\n            dispatch(addCompletedExerciseSuccess(responseData, dispatch));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            })\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function addCompletedExerciseSuccess(responseData, dispatch) {\r\n    dispatchCompletedExerciseAlert(\"Added\", responseData, dispatch);\r\n\r\n    return {\r\n        type: types.ADD_COMPLETED_EXERCISE_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        addedId: responseData.id,\r\n        addedExerciseName: responseData.exercise_name\r\n    };\r\n}\r\n\r\nexport function updateCompletedExercise(id, requestBody) {    \r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.UPDATE_COMPLETED_EXERCISE,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new CompletedExerciseApi();\r\n        return api.patchCompletedExercise(id, requestBody).then(responseData => {\r\n            dispatch(updateCompletedExerciseSuccess(responseData, dispatch));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function updateCompletedExerciseSuccess(responseData, dispatch) {\r\n    dispatchCompletedExerciseAlert(\"Updated\", responseData, dispatch);\r\n\r\n    return {\r\n        type: types.UPDATE_COMPLETED_EXERCISE_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        updatedId: responseData.id\r\n    };\r\n}","import * as dateFns from \"date-fns\";\r\nimport ls from \"local-storage\";\r\n                \r\nclass CompletedActivitiesApi {\r\n    constructor() {\r\n        const accessToken = ls.get(\"accessToken\");\r\n\r\n        this.authHeader = \"Bearer \" + accessToken;\r\n        this.endpointOrigin = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000\" : (window.location.origin);\r\n        this.dateFormat = \"YYYY-MM-DD\";\r\n    }\r\n    \r\n    getCompletedActivities = (startDate, endDate) => {\r\n        const options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader\r\n            }\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/completed_activities?\"\r\n                                             + \"startDate=\" + dateFns.format(startDate, this.dateFormat)\r\n                                             + \"&endDate=\" + dateFns.format(endDate, this.dateFormat);\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            throw error;\r\n        });\r\n    }\r\n    \r\n    getRecentActivities = (pageNo, pageSize, combineExercises) => {\r\n        const options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader\r\n            }\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/completed_activities?\"\r\n                                             + \"pageNo=\" + pageNo\r\n                                             + \"&pageSize=\" + pageSize\r\n                                             + \"&combineExercises=\" + combineExercises;\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            throw error;\r\n        });\r\n    }\r\n\r\n    postCompletedActivities = (requestBody) => {        \r\n        const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: requestBody,\r\n            mode: \"cors\"\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/completed_activities\";\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            throw error;\r\n        });\r\n    }\r\n}\r\n\r\nexport default CompletedActivitiesApi;","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport CompletedActivitiesApi from \"../api/CompletedActivitiesApi\";\r\n\r\nexport function loadCombinedRecentActivities(pageNo, pageSize) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.LOAD_COMBINED_RECENT_ACTIVITIES,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new CompletedActivitiesApi();\r\n        const combineExercises = true;\r\n        return api.getRecentActivities(pageNo, pageSize, combineExercises).then(responseData => {\r\n            if (responseData) {\r\n                dispatch(loadCombinedRecentActivitiesSuccess(responseData));\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function loadCombinedRecentActivitiesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_COMBINED_RECENT_ACTIVITIES_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        pageNo: responseData.page_no,\r\n        prevPageNo: responseData.prev_page_no,\r\n        nextPageNo: responseData.next_page_no,\r\n        activitiesAndExercises: responseData.activities_and_exercises\r\n    };\r\n}","import ls from \"local-storage\";\r\n                \r\nclass UserApi {\r\n    constructor() {\r\n        const accessToken = ls.get(\"accessToken\");\r\n\r\n        this.authHeader = \"Bearer \" + accessToken;\r\n        this.endpointOrigin = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000\" : (window.location.origin);\r\n    }\r\n    \r\n    getUserInfo = () => {\r\n        const options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader\r\n            }\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/user_info\";\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            throw error;\r\n        });\r\n    }\r\n\r\n    patchUserInfo = (requestBody) => {\r\n        const options = {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: requestBody,\r\n            mode: \"cors\"\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/user_info\";\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            throw error;\r\n        });\r\n    }\r\n}\r\n\r\nexport default UserApi;","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport UserApi from \"../api/UserApi\";\r\n\r\nexport function loadUserInfo() {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.LOAD_USER_INFO,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new UserApi();\r\n        return api.getUserInfo().then(responseData => {\r\n            if (responseData) {\r\n                dispatch(loadUserInfoSuccess(responseData));\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function loadUserInfoSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_USER_INFO_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        userInfo: responseData.user_info\r\n    };\r\n}\r\n\r\nexport function updateUserInfo(id, requestBody) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.UPDATE_USER_INFO,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new UserApi();\r\n        return api.patchUserInfo(id, requestBody).then(responseData => {\r\n            if (responseData) {\r\n                dispatch(updateUserInfoSuccess(id, responseData));\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function updateUserInfoSuccess(id, responseData) {\r\n    return {\r\n        type: types.UPDATE_USER_INFO_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        updatedId: id,\r\n        updatedUserInfo: responseData.updated_user_info\r\n    };\r\n}\r\n\r\nexport function updateUserStravaAccessToken(accessToken) {\r\n    return {\r\n        type: types.STORE_USER_STRAVA_ACCESS_TOKEN,\r\n        stravaAccessToken: accessToken\r\n    };\r\n}","import ls from \"local-storage\";\r\n                \r\nclass ActivityTypesApi {\r\n    constructor() {\r\n        const accessToken = ls.get(\"accessToken\");\r\n\r\n        this.authHeader = \"Bearer \" + accessToken;\r\n        this.endpointOrigin = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000\" : (window.location.origin);\r\n    }\r\n    \r\n    getActivityTypes = () => {\r\n        const options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader\r\n            }\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/activity_types\";\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            return error;\r\n        });\r\n    }\r\n}\r\n\r\nexport default ActivityTypesApi;","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport ActivityTypesApi from \"../api/ActivityTypesApi\";\r\nimport { loadExerciseTypesSuccess } from \"./exerciseTypeActions\"\r\nimport { loadExerciseCategoriesSuccess } from \"./exerciseCategoryActions\"\r\n\r\nexport function loadActivityTypes() {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.LOAD_ACTIVITY_TYPES,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new ActivityTypesApi();\r\n        return api.getActivityTypes().then(responseData => {\r\n            if (responseData) {\r\n                dispatch(loadActivityTypesSuccess(responseData));\r\n                dispatch(loadExerciseTypesSuccess(responseData));\r\n                dispatch(loadExerciseCategoriesSuccess(responseData));\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function loadActivityTypesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_ACTIVITY_TYPES_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        activityTypes: responseData.activity_types\r\n    };\r\n}","import * as types from \"./actionTypes\";\r\n\r\nexport function loadExerciseTypesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_EXERCISE_TYPES_SUCCESS,\r\n        exerciseTypes: responseData.exercise_types\r\n    };\r\n}","import * as types from \"./actionTypes\";\r\n\r\nexport function loadExerciseCategoriesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_EXERCISE_CATEGORIES_SUCCESS,\r\n        exerciseCategories: responseData.exercise_categories\r\n    };\r\n}","import ls from \"local-storage\";\r\n                \r\nclass AnnualStatsApi {\r\n    constructor() {\r\n        const accessToken = ls.get(\"accessToken\");\r\n\r\n        this.authHeader = \"Bearer \" + accessToken;\r\n        this.endpointOrigin = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000\" : (window.location.origin);\r\n    }\r\n    \r\n    getAnnualStats = () => {\r\n        const options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader\r\n            }\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/annual_stats\";\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            throw error;\r\n        });\r\n    }\r\n}\r\n\r\nexport default AnnualStatsApi;","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport AnnualStatsApi from \"../api/AnnualStatsApi\";\r\n\r\nexport function loadAnnualStats() {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.LOAD_ANNUAL_STATS,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new AnnualStatsApi();\r\n        return api.getAnnualStats().then(responseData => {\r\n            if (responseData) {\r\n                dispatch(loadAnnualStatsSuccess(responseData));\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function loadAnnualStatsSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_ANNUAL_STATS_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        annualStats: responseData\r\n    };\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass Alert extends Component {\r\n    render() {\r\n        const alert = this.props.alert;\r\n        return (\r\n            <>\r\n            {alert && alert.showAlert && (\r\n            <div className=\"alert alert-info\">\r\n                {alert.message}&nbsp;\r\n                {alert.actionLinkText && (\r\n                <>\r\n                (<a href=\"#action\" onClick={() => this.props.onActionLinkClick(alert.actionFormInitData)}>{alert.actionLinkText}</a>)\r\n                </>)}                \r\n            </div>)}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        alert: state.alert\r\n    };\r\n}\r\n\r\nAlert = connect(mapStateToProps)(Alert);\r\n\r\nexport default Alert;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { OauthSender } from \"react-oauth-flow\";\r\n\r\nclass StravaImportButton extends Component {\r\n    render() {\r\n        const redirectUri = window.location.origin + \"/hub\";\r\n        const stravaAuthCreds = this.props.user && {\r\n            clientId: this.props.user.strava_client_id,\r\n            clientSecret: this.props.user.strava_client_secret\r\n        };\r\n\r\n        return (\r\n            <OauthSender\r\n                authorizeUrl=\"https://www.strava.com/oauth/authorize\"\r\n                clientId={stravaAuthCreds.clientId}\r\n                redirectUri={redirectUri}\r\n                args={{ scope: \"profile:read_all,activity:read\"}}\r\n                render={({ url }) => <a href={url} role=\"button\" className={this.props.buttonClass}>{this.props.buttonContent}</a>} />\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.user\r\n    };\r\n}\r\n\r\nStravaImportButton = connect(mapStateToProps)(StravaImportButton);\r\n\r\nexport default StravaImportButton;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport * as dateFns from \"date-fns\";\r\n\r\nimport * as completedExerciseActions from \"../actions/completedExerciseActions\";\r\nimport * as plannedActivityActions from \"../actions/plannedActivityActions\";\r\nimport * as combinedRecentActivityActions from \"../actions/combinedRecentActivityActions\";\r\nimport * as annualStatsActions from \"../actions/annualStatsActions\";\r\nimport { filterPlannedExercises, filterPlannedActivities } from \"../helpers/trainingPlan\";\r\nimport StravaImportButton from \"./StravaImportButton\";\r\n\r\nclass TodoContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            today: new Date(),\r\n            weekStartDate: dateFns.startOfWeek(new Date(), {weekStartsOn: 1})\r\n        }\r\n    }\r\n\r\n    handleCompleteExercise = (plannedExerciseId) => {\r\n        const requestBody = JSON.stringify({ \r\n            planned_exercise_id: plannedExerciseId\r\n        });\r\n        \r\n        this.props.completedExerciseActions.addCompletedExercise(requestBody).then(result => {\r\n            this.props.plannedActivityActions.loadPlannedActivities(this.state.weekStartDate, this.state.today);\r\n            this.props.combinedRecentActivityActions.loadCombinedRecentActivities(1, 5);\r\n            this.props.annualStatsActions.loadAnnualStats();\r\n        });\r\n    }\r\n\r\n    renderPlannedActivityButton = (plannedActivity) => {\r\n        const buttonClass = \"btn btn-sm mr-1 ml-1 \" + plannedActivity.category_key;\r\n\r\n        return (\r\n            <span key={plannedActivity.id}>\r\n                <StravaImportButton buttonClass={buttonClass} buttonContent={(\r\n                        <>\r\n                        {plannedActivity.activity_type}\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t{plannedActivity.description && plannedActivity.description}\r\n                            {!plannedActivity.description && <>&nbsp;</>}\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t{plannedActivity.planned_distance_formatted && plannedActivity.planned_distance_formatted}\r\n                            {!plannedActivity.planned_distance_formatted && <>&nbsp;</>}\r\n\t\t\t\t\t\t</small>\r\n                        </>)} />\r\n\t\t\t</span>\r\n        );\r\n    }\r\n\r\n    renderPlannedExerciseButton = (plannedExercise) => {\r\n        const buttonClass = \"btn btn-sm mr-1  ml-1 \" + plannedExercise.category_key;\r\n\r\n        return (\r\n            <button key={plannedExercise.id} className={buttonClass} onClick={() => this.handleCompleteExercise(plannedExercise.id)}>\r\n                {plannedExercise.exercise_name }\r\n                <br />\r\n                <small>\r\n                    {plannedExercise.measured_by === \"reps\" &&\r\n                    <>[{plannedExercise.planned_reps} reps]</>}\r\n                    {plannedExercise.measured_by === \"seconds\" &&\r\n                    <>[{plannedExercise.planned_seconds} secs]</>}\r\n                    <br />\r\n                    {/* TODO: need to deduct completed sets */}\r\n                    {plannedExercise.planned_sets - plannedExercise.completed_sets} sets to do\r\n                </small>\r\n            </button>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const today = this.state.today;\r\n        const weekStartDate = this.state.weekStartDate;\r\n        const planningPeriod = this.props.planningPeriod;\r\n        const planningPeriodDate = planningPeriod === \"week\" ? weekStartDate : today\r\n        const planningPeriodDateFormatted = (planningPeriod === \"week\" ? \"week of \" : \"\") + dateFns.format(planningPeriodDate, \"DD MMMM\") + (planningPeriod === \"week\" ? \" (on any day)\" : \"\");\r\n        const planningPeriodFriendlyDescription = planningPeriod === \"week\" ? \" this week\" : \"today\";\r\n        const hasPlannedActivityForToday = this.props.user && this.props.user.has_planned_activity_for_today;\r\n        const hasPlannedActivityForThisWeek = this.props.user && this.props.user.has_planned_activity_for_this_week;\r\n        const hasPlannedActivityForPeriod = planningPeriod === \"week\" ? hasPlannedActivityForThisWeek : hasPlannedActivityForToday\r\n\r\n        const plannedActivities = filterPlannedActivities(this.props.plannedActivities, planningPeriodDate, planningPeriod);\r\n        const plannedActivityButtons = plannedActivities.map(this.renderPlannedActivityButton);\r\n\r\n        const plannedExerciseCategories = filterPlannedExercises(this.props.plannedExercises, planningPeriodDate, planningPeriod);\r\n        let plannedExerciseButtons = [];\r\n        for (let plannedExerciseCategory of plannedExerciseCategories) {\r\n            plannedExerciseButtons.push(plannedExerciseCategory.exercises.map(this.renderPlannedExerciseButton));\r\n        }\r\n\r\n        return (\r\n            <div className=\"card mt-3\">\r\n                <div className=\"card-header\">\r\n                    <h4>To Do for {planningPeriodDateFormatted}</h4>\r\n                </div>\r\n                <div className=\"card-body exercise-buttons\">\r\n\r\n                    {/* If there's planned activity for the day but nothing remaining then display well done message */}\r\n                    {hasPlannedActivityForPeriod && plannedActivities.length === 0 && plannedExerciseCategories.length === 0 &&\r\n                    <div className=\"alert alert-success\">\r\n                        <i className=\"fa fa-check-square-o fa-lg\"></i> Great work! You've ticked off your planned activities and exercises for {planningPeriodFriendlyDescription}!\r\n                    </div>}\r\n                    {!hasPlannedActivityForPeriod &&\r\n                    <p>You don't have any activities or exercises planned for {planningPeriodFriendlyDescription}. Chill out and let your muscles recover!</p>}\r\n                    {hasPlannedActivityForPeriod && (plannedActivities.length > 0 || plannedExerciseCategories.length > 0) &&\r\n                    <>\r\n                        <p>Here are your planned activities and exercises that you have left to do {planningPeriodFriendlyDescription}. Use the buttons to tick each one off.</p>\r\n                        {plannedActivityButtons}\r\n                        {plannedExerciseButtons}\r\n                    </>}\r\n                    <p className=\"mt-2 mb-0\">\r\n                        <a href=\"/training_plan\">Full Training Plan</a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        plannedActivities: state.plannedActivities,\r\n        plannedExercises: state.plannedExercises,\r\n        user: state.user\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        plannedActivityActions: bindActionCreators(plannedActivityActions, dispatch),\r\n        completedExerciseActions: bindActionCreators(completedExerciseActions, dispatch),\r\n        combinedRecentActivityActions: bindActionCreators(combinedRecentActivityActions, dispatch),\r\n        annualStatsActions: bindActionCreators(annualStatsActions, dispatch)\r\n    };\r\n}\r\n\r\nTodoContainer = connect(mapStateToProps, mapDispatchToProps)(TodoContainer);\r\n\r\nexport default TodoContainer;","import { format } from \"date-fns\";\r\n\r\nexport function filterPlannedActivities(plannedActivities, day, planningPeriod) {\r\n    const jsonDate = format(day, \"YYYY-MM-DD\");\r\n    const plannedActivitiesFiltered = plannedActivities.filter(plannedActivity => plannedActivity.planned_date === jsonDate && plannedActivity.planning_period === planningPeriod);\r\n    return plannedActivitiesFiltered;\r\n}\r\n\r\nexport function filterPlannedActivitiesById(plannedActivities, id) {\r\n    const plannedActivitiesFiltered = plannedActivities.filter(plannedActivity => plannedActivity.id === id);\r\n    return plannedActivitiesFiltered[0];\r\n}\r\n\r\nexport function filterPlannedRaces(plannedRaces, day) {\r\n    const jsonDate = format(day, \"YYYY-MM-DD\");\r\n    const plannedRacesFiltered = plannedRaces.filter(plannedRace => plannedRace.planned_date === jsonDate);\r\n    return plannedRacesFiltered;\r\n}\r\n\r\nexport function filterPlannedExercises(plannedExercises, day, planningPeriod) {\r\n    const jsonDate = format(day, \"YYYY-MM-DD\");\r\n    const plannedExercisesFiltered = plannedExercises.filter(plannedExerciseCategory => plannedExerciseCategory.planned_date === jsonDate && plannedExerciseCategory.planning_period === planningPeriod);\r\n    return plannedExercisesFiltered;\r\n}\r\n\r\nexport function filterCompletedActivities(completedActivities, day) {\r\n    const jsonDate = format(day, \"YYYY-MM-DD\");\r\n    const completedActivitiesFiltered = completedActivities.filter(completedActivity => completedActivity.activity_date === jsonDate);\r\n    return completedActivitiesFiltered;\r\n}\r\n\r\nexport function filterCompletedExercises(completedExercises, day) {\r\n    const jsonDate = format(day, \"YYYY-MM-DD\");\r\n    const completedExercisesFiltered = completedExercises.filter(completedExerciseCategory => completedExerciseCategory.exercise_date === jsonDate);\r\n    return completedExercisesFiltered;\r\n}","import React, { Component } from \"react\";\r\n\r\nclass CounterBox extends Component {\r\n    render() {\r\n        var classes = \"col m-2 \" +  this.props.categoryKey;\r\n\r\n        return(\r\n            <div className={classes}>\r\n                <small>{this.props.categoryName}:</small><br />\r\n                <span className=\"display-4\">{this.props.value}</span> {this.props.uom}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CounterBox;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport * as annualStatsActions from \"../actions/annualStatsActions\";\r\n\r\nimport CounterBox from \"./CounterBox\";\r\n\r\nclass CountersContainer extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.annualStatsActions.loadAnnualStats();\r\n    }\r\n\r\n    // function to be called from map() passing in array of counter objects \r\n    createCounterBoxes = (counter) => {\r\n        return <CounterBox key={counter.category_key} categoryName={counter.category_name} categoryKey={counter.category_key} value={counter.value} uom={counter.uom} />\r\n    }\r\n\r\n    render() {\r\n        const counters = this.props.annualStats.counters;\r\n        const counterBoxes = counters.map(this.createCounterBoxes);\r\n\r\n        return (\r\n            <>\r\n            {counters.length > 0 && (\r\n            <div>\r\n                <h4 className=\"mt-3\">{this.props.annualStats.heading}</h4>\r\n                <div className=\"row\">\r\n                    {counterBoxes}\r\n                </div>\r\n            </div>\r\n            )}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        annualStats: state.annualStats\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        annualStatsActions: bindActionCreators(annualStatsActions, dispatch)\r\n    };\r\n}\r\n\r\nCountersContainer = connect(mapStateToProps, mapDispatchToProps)(CountersContainer);\r\n\r\nexport default CountersContainer;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { format } from \"date-fns\";\r\n\r\nimport * as combinedRecentActivityActions from \"../actions/combinedRecentActivityActions\";\r\n\r\nclass RecentActivityContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // Todo: this should be a user preference and use redux, we'd also need to set it in the Todo Container\r\n        this.state = {\r\n            pageSize: 5\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.combinedRecentActivityActions.loadCombinedRecentActivities(1, this.state.pageSize);\r\n    }\r\n\r\n    handleViewNewerActivity = () => {\r\n        this.props.combinedRecentActivityActions.loadCombinedRecentActivities(this.props.combinedRecentActivities.prevPageNo, this.state.pageSize);\r\n    }\r\n\r\n    handleViewOlderActivity = () => {\r\n        this.props.combinedRecentActivityActions.loadCombinedRecentActivities(this.props.combinedRecentActivities.nextPageNo, this.state.pageSize);\r\n    }\r\n\r\n    renderRecentActivityRow = (recentActivity) => {\r\n        const activityUrl = \"/activity_analysis/\" + recentActivity.id;\r\n        const viewOnStravaUrl = \"https://www.strava.com/activities/\" + recentActivity.external_id;\r\n        const exerciseDatetimeFormatted = format(new Date(recentActivity.activity_datetime), \"ddd DD MMM HH:mm:ss\");\r\n\r\n        const editFormInitData = {\r\n            id: recentActivity.id,\r\n            exercise_name: recentActivity.name,\r\n            exercise_datetime: exerciseDatetimeFormatted,\r\n            measured_by: recentActivity.measured_by,\r\n            reps: recentActivity.reps,\r\n            seconds: recentActivity.seconds\r\n        }\r\n\r\n        return (\r\n            <tr key={recentActivity.id}>\r\n                <td>{exerciseDatetimeFormatted}</td>\r\n                <td>\r\n                    {recentActivity.scheduled_exercise_id &&\r\n                    <><i className=\"fa fa-check-square-o\"></i>&nbsp;</>}\r\n                    {recentActivity.is_race &&\r\n                    <><i className=\"fa fa-flag-checkered\"></i>&nbsp;</>}\r\n                    {recentActivity.source === \"Strava\" &&\r\n                    <a href={activityUrl}>{recentActivity.name}</a>}\r\n                    {!(recentActivity.source === \"Strava\") &&\r\n                    recentActivity.name}\r\n                </td>\r\n                <td>\r\n                    {recentActivity.measured_by === \"reps\" &&\r\n                    <>{recentActivity.reps} reps</>}\r\n                    {recentActivity.measured_by === \"seconds\" &&\r\n                    <>{recentActivity.seconds} secs </>}\r\n                    {recentActivity.measured_by === \"distance\" &&\r\n                    <>{recentActivity.distance_formatted}</>}\r\n                </td>\r\n                <td>\r\n                    {recentActivity.source === \"Exercise\" &&\r\n                    <a href=\"#edit\" onClick={() => this.props.onEditCompletedExercise(editFormInitData)}><i className=\"fa fa-edit\"></i> Edit</a>}\r\n                    {recentActivity.source === \"Strava\" &&\r\n                    <a href={viewOnStravaUrl}>View on Strava</a>}\r\n                </td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const recentActivities = this.props.combinedRecentActivities.activitiesAndExercises;\r\n        const recentActivityRows = recentActivities.map(this.renderRecentActivityRow);\r\n        const newerNavClass = \"page-item\" + (this.props.combinedRecentActivities.prevPageNo ? \"\" : \" disabled\");\r\n        const olderNavClass = \"page-item\" + (this.props.combinedRecentActivities.nextPageNo ? \"\" : \" disabled\");\r\n\r\n        return (\r\n            <>\r\n            {recentActivities.length > 0 &&\r\n            <div className=\"mt-2\">\r\n                <div className=\"row align-items-end\">\r\n                    <div className=\"col-md\">\r\n                        <h4 className=\"mt-3\">Recently added activity</h4>\r\n                        <p>(Go to <a href=\"/weekly_activity/current\">Analysis & Goals</a> to see more activity)</p>\r\n                    </div>\r\n                    <div className=\"col-md\">\r\n                        <nav>\r\n                            <ul className=\"pagination-sm nav justify-content-end ml-auto mb-2\">\t\t\t\t\t\r\n                                <li className={newerNavClass}>\r\n                                    <button className=\"page-link\" onClick={() => this.handleViewNewerActivity()}>Newer</button>\r\n                                </li>\r\n                                <li className={olderNavClass}>\r\n                                <button className=\"page-link\" onClick={() => this.handleViewOlderActivity()}>Older</button>\r\n                                </li>\r\n                            </ul>\r\n                        </nav>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col\">\r\n                        <table className=\"table table-sm table-hover\">\r\n                            <tbody>                        \r\n                                {recentActivityRows}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        combinedRecentActivities: state.combinedRecentActivities\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        combinedRecentActivityActions: bindActionCreators(combinedRecentActivityActions, dispatch)\r\n    };\r\n}\r\n\r\nRecentActivityContainer = connect(mapStateToProps, mapDispatchToProps)(RecentActivityContainer);\r\n\r\nexport default RecentActivityContainer;","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport CompletedActivitiesApi from \"../api/CompletedActivitiesApi\";\r\nimport { loadCompletedExercisesSuccess } from \"./completedExerciseActions\";\r\nimport { showAlert } from \"./alertActions\";\r\n\r\nexport function loadCompletedActivities(startDate, endDate) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.LOAD_COMPLETED_ACTIVITIES,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new CompletedActivitiesApi();\r\n        return api.getCompletedActivities(startDate, endDate).then(responseData => {\r\n            if (responseData) {\r\n                dispatch(loadCompletedActivitiesSuccess(responseData));\r\n                dispatch(loadCompletedExercisesSuccess(responseData));\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function loadCompletedActivitiesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_COMPLETED_ACTIVITIES_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        completedActivities: responseData.completed_activities\r\n    };\r\n}\r\n\r\nexport function addCompletedActivities(requestBody) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.ADD_COMPLETED_ACTIVITIES,\r\n            [ pendingTask ]: begin\r\n        });\r\n\r\n        const api = new CompletedActivitiesApi();\r\n        return api.postCompletedActivities(requestBody).then(responseData => {\r\n            dispatch(addCompletedActivitiesSuccess(responseData, dispatch));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            })\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function addCompletedActivitiesSuccess(responseData, dispatch) {\r\n    // for now we'll just use the 1st message as the alert but we can develop a means to show all of them in future\r\n    const alertMessage = responseData.messages[0];\r\n    dispatch(showAlert(alertMessage));\r\n\r\n    return {\r\n        type: types.ADD_COMPLETED_ACTIVITIES_SUCCESS,\r\n        [ pendingTask ]: end\r\n    };\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { OauthReceiver } from \"react-oauth-flow\";\r\nimport ls from \"local-storage\";\r\nimport { startOfWeek } from \"date-fns\";\r\n\r\nimport * as userActions from \"../actions/userActions\";\r\nimport * as completedActivityActions from \"../actions/completedActivityActions\";\r\nimport * as plannedActivityActions from \"../actions/plannedActivityActions\";\r\nimport * as combinedRecentActivityActions from \"../actions/combinedRecentActivityActions\";\r\nimport * as annualStatsActions from \"../actions/annualStatsActions\";\r\nimport StravaImportButton from \"./StravaImportButton\";\r\n\r\nclass StravaImportContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            today: new Date(),\r\n            weekStartDate: startOfWeek(new Date(), {weekStartsOn: 1})\r\n        }\r\n    }\r\n\r\n    handleAuthorizationSuccess = async (accessToken, { response, state }) => {\r\n        this.props.userActions.updateUserStravaAccessToken(accessToken);\r\n        // hedging bets at the moment, might be better to have it in localstorage\r\n        ls.set(\"stravaAccessToken\", accessToken);\r\n        \r\n        // Call the Training Ticks API for importing activities\r\n        const requestBody = JSON.stringify({ \r\n            strava_access_token: accessToken\r\n        });\r\n        \r\n        this.props.completedActivityActions.addCompletedActivities(requestBody).then(result => {\r\n            this.props.plannedActivityActions.loadPlannedActivities(this.state.weekStartDate, this.state.today);\r\n            this.props.combinedRecentActivityActions.loadCombinedRecentActivities(1, 5);\r\n            this.props.annualStatsActions.loadAnnualStats();\r\n        });\r\n    }\r\n\r\n    handleAuthorizationError = (error) => {\r\n        // use the monitoring API to log the error\r\n        const endpoint = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000/api/monitoring\" : (origin + \"/api/monitoring\");\r\n        const requestBody = JSON.stringify({ \r\n            type: \"error\",\r\n            message: error.message\r\n        });\r\n        const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: requestBody,\r\n            mode: \"cors\"\r\n        };\r\n        fetch(endpoint, options);\r\n        console.log(error.message);\r\n    }\r\n    \r\n    render() {\r\n        const redirectUri = window.location.origin + \"/hub\";\r\n        const stravaAuthCreds = this.props.user && {\r\n            clientId: this.props.user.strava_client_id,\r\n            clientSecret: this.props.user.strava_client_secret\r\n        };\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        \r\n        return (\r\n            <>\r\n            {stravaAuthCreds && (\r\n            <div className=\"card mt-3\">\r\n                <div className=\"card-header\">\r\n                    <h4>Import new activities from Strava</h4>\r\n                </div>\r\n                <div className=\"card-body exercise-buttons\">\r\n                    <StravaImportButton buttonContent={(<img src={require(\"../static/img/btn_strava_connectwith_orange.png\")} alt=\"Connect With Strava\" />)} />\r\n                    {(urlParams.has(\"code\") || urlParams.has(\"error\")) && (\r\n                    <OauthReceiver\r\n                        tokenUrl=\"https://www.strava.com/oauth/token\"\r\n                        clientId={stravaAuthCreds.clientId}\r\n                        clientSecret={stravaAuthCreds.clientSecret}\r\n                        redirectUri={redirectUri}\r\n                        onAuthSuccess={this.handleAuthorizationSuccess}\r\n                        onAuthError={this.handleAuthorizationError} />\r\n                    )}\r\n                </div>\r\n            </div>)}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.user\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        userActions: bindActionCreators(userActions, dispatch),\r\n        completedActivityActions: bindActionCreators(completedActivityActions, dispatch),\r\n        plannedActivityActions: bindActionCreators(plannedActivityActions, dispatch),\r\n        combinedRecentActivityActions: bindActionCreators(combinedRecentActivityActions, dispatch),\r\n        annualStatsActions: bindActionCreators(annualStatsActions, dispatch)\r\n    };\r\n}\r\n\r\nStravaImportContainer = connect(mapStateToProps, mapDispatchToProps)(StravaImportContainer);\r\n\r\nexport default StravaImportContainer;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass ExerciseTypeButtonSet extends Component {\r\n\r\n    renderExerciseTypeButton = (exerciseType) => {\r\n        const buttonClass = \"btn btn-sm ml-1 mr-1 \" + (exerciseType.category_key ? exerciseType.category_key : \"uncategorised\");\r\n\r\n        return (\r\n            <button key={exerciseType.id} className={buttonClass} onClick={() => this.props.onAdd(exerciseType.id)}>\r\n                <i className=\"fa fa-calendar-plus-o\"></i> {exerciseType.exercise_name}\r\n                <br />\r\n                <small>\r\n                    [{exerciseType.measured_by === \"reps\" && (exerciseType.default_reps + \" reps\")}{exerciseType.measured_by === \"seconds\" && (exerciseType.default_seconds + \" seconds\")}]\r\n                </small>\r\n\t\t\t</button>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const exerciseTypeIdsToExclude = this.props.exerciseTypeIdsToExclude ? this.props.exerciseTypeIdsToExclude : [];\r\n        const exerciseTypes = this.props.exerciseTypes.filter(({ id }) => !exerciseTypeIdsToExclude.includes(id));\r\n        const exerciseTypeButtons = exerciseTypes.map(this.renderExerciseTypeButton);\r\n\r\n        return(\r\n            <>\r\n            <button key=\"new\" className=\"btn btn-sm ml-1 mr-1 btn-secondary new-exercise-type\" onClick={() => this.props.onAdd(null)}>\r\n                <i className=\"fa fa-calendar-plus-o\"></i> New Exercise Type\r\n                <br />\r\n                <small>&nbsp;</small>\r\n\t\t\t</button>\r\n            {exerciseTypeButtons}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        exerciseTypes: state.exerciseTypes\r\n    };\r\n}\r\n\r\nExerciseTypeButtonSet = connect(mapStateToProps)(ExerciseTypeButtonSet);\r\n\r\nexport default ExerciseTypeButtonSet;","import React, { Component } from \"react\";\r\nimport { reduxForm, Field, formValueSelector } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass CompletedExerciseFormModal extends Component {\r\n\r\n    componentDidMount() {\r\n        const { initData } = this.props;\r\n        this.props.initialize(initData);\r\n    }\r\n\r\n    renderCategorySelectOption = (categoryOption) => {\r\n        return (\r\n            <option key={categoryOption.id} value={categoryOption.id}>{categoryOption.category_name}</option>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { handleSubmit, initData } = this.props;\r\n        let categorySelectOptions;\r\n\r\n        if (initData.isNewExerciseType) {\r\n            categorySelectOptions = initData.categoryOptions.map(this.renderCategorySelectOption);\r\n        }\r\n\r\n        return (\r\n            <div className=\"modal-back-drop\">\r\n                <div className=\"modal-wrapper\">\r\n                    <div className=\"generic-modal-header\">\r\n                        <div className=\"d-inline\">\r\n                            <h4>Completed {initData.isNewExerciseType ? \"New Exercise Type\" : initData.exercise_name}</h4>\r\n                        </div>\r\n                        <span className=\"close-modal-btn\" onClick={this.props.close}><i className=\"fa fa-window-close\"></i></span>\r\n                    </div>\r\n                    <div className=\"generic-modal-body\">\r\n                        <p>{initData.exercise_datetime}</p>\r\n                        <form onSubmit={handleSubmit} className=\"form\">                            \r\n                            {initData.isNewExerciseType && (\r\n                                <>\r\n                                <div className=\"form-group \">\r\n                                    <Field component={renderField} type=\"text\" id=\"exercise_name\" name=\"exercise_name\" label=\"Exercise Name\" />\r\n                                </div>\r\n                                <div className=\"form-group \">\r\n                                    <label className=\"form-control-label\" htmlFor=\"measured_by\">Measured By</label>\r\n                                    <Field component=\"select\" className=\"form-control\" id=\"measured_by\" name=\"measured_by\">\r\n                                        <option value=\"reps\">Reps</option>\r\n                                        <option value=\"seconds\">Time (seconds)</option>\r\n                                    </Field>\r\n                                </div>\r\n                                </>\r\n                            )}\r\n                            {((!this.props.measuredByValue && initData.measured_by === \"reps\") || this.props.measuredByValue === \"reps\") && (\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"form-control-label\" htmlFor=\"reps\">Reps</label>\r\n                                    <Field component=\"input\" type=\"number\" className=\"form-control\" id=\"reps\" name=\"reps\" />\r\n                                </div>\r\n                            )}\r\n                            {((!this.props.measuredByValue && initData.measured_by === \"seconds\") || this.props.measuredByValue === \"seconds\") && (\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"form-control-label\" htmlFor=\"seconds\">Seconds</label>\r\n                                    <Field component=\"input\" type=\"number\" className=\"form-control\" id=\"seconds\" name=\"seconds\" />\r\n                                </div>\r\n                            )}\r\n                            {initData.isNewExerciseType && initData.categoryOptions && initData.categoryOptions.length > 0 && (\r\n                                <>\r\n                                <div className=\"form-group \">\r\n                                    <label className=\"form-control-label\" htmlFor=\"exercise_category_id\">Category</label>\r\n                                    <Field component=\"select\" className=\"form-control\" id=\"exercise_category_id\" name=\"exercise_category_id\">\r\n                                        {categorySelectOptions}\r\n                                    </Field>\r\n                                </div>\r\n                                </>\r\n                            )}\r\n                            <button type=\"submit\" className=\"btn btn-primary mr-1\">Save Exercise</button>\r\n                            <button type=\"button\" className=\"btn btn-secondary\" onClick={this.props.close}>Cancel</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n}\r\n\r\nconst renderField = ({ input, label, type, meta: { touched, error, warning } }) => {\r\n    return (\r\n        <div>\r\n            <label className=\"form-control-label\">{label}</label>\r\n            <div>\r\n            <input className=\"form-control\" {...input} type={type}/>\r\n            {touched && ((error && <div className=\"error mt-1\">{error}</div>) || (warning && <span>{warning}</span>))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nCompletedExerciseFormModal = reduxForm({\r\n    form: \"completedExercise\"\r\n})(CompletedExerciseFormModal);\r\n\r\n// we want access to other form values\r\nconst selector = formValueSelector(\"completedExercise\");\r\nCompletedExerciseFormModal = connect(\r\n    (state) => {\r\n        const measuredByValue = selector(state, \"measured_by\")\r\n        return { measuredByValue };\r\n    }\r\n)(CompletedExerciseFormModal)\r\n\r\nexport default CompletedExerciseFormModal;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport * as dateFns from \"date-fns\";\r\nimport { Spinner } from \"react-redux-spinner\";\r\n\r\nimport * as plannedActivityActions from \"../actions/plannedActivityActions\";\r\nimport * as completedExerciseActions from \"../actions/completedExerciseActions\";\r\nimport * as combinedRecentActivityActions from \"../actions/combinedRecentActivityActions\";\r\nimport * as userActions from \"../actions/userActions\";\r\nimport * as activityTypeActions from \"../actions/activityTypeActions\";\r\nimport * as annualStatsActions from \"../actions/annualStatsActions\";\r\nimport Alert from \"./Alert\";\r\nimport TodoContainer from \"./TodoContainer\";\r\nimport CountersContainer from \"./CountersContainer\";\r\nimport RecentActivityContainer from \"./RecentActivityContainer\";\r\nimport StravaImportContainer from \"./StravaImportContainer\";\r\nimport ExerciseTypeButtonSet from \"./ExerciseTypeButtonSet\";\r\nimport CompletedExerciseFormModal from \"./CompletedExerciseFormModal\";\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showCompletedExerciseForm: false,\r\n            completedExerciseFormInitData: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const today = new Date();\r\n        const weekStartDate = dateFns.startOfWeek(today, {weekStartsOn: 1});\r\n        this.props.plannedActivityActions.loadPlannedActivities(weekStartDate, today);\r\n        this.props.userActions.loadUserInfo();\r\n        this.props.activityTypeActions.loadActivityTypes();\r\n    }\r\n\r\n    handleCompleteAdhocExercise = (exerciseTypeId) => {\r\n        if (!exerciseTypeId) {\r\n            const formInitData = {\r\n                isNewExerciseType: true,\r\n                measured_by: \"reps\",\r\n                categoryOptions: this.props.exerciseCategories,\r\n                exercise_category_id: (this.props.exerciseCategories.length > 0) ? this.props.exerciseCategories[0].id : null\r\n            }\r\n            this.setState({\r\n                showCompletedExerciseForm: true,\r\n                completedExerciseFormInitData: formInitData\r\n            });\r\n        } else {\r\n            const requestBody = JSON.stringify({ \r\n                exercise_type_id: exerciseTypeId\r\n            });\r\n            \r\n            this.props.completedExerciseActions.addCompletedExercise(requestBody).then(result => {\r\n                this.props.combinedRecentActivityActions.loadCombinedRecentActivities(1, 5);\r\n                this.props.annualStatsActions.loadAnnualStats();\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    handleEditCompletedExercise = (formInitData) => {\r\n        this.setState({\r\n            showCompletedExerciseForm: true,\r\n            completedExerciseFormInitData: formInitData\r\n        });\r\n    }\r\n\r\n    handleSaveCompletedExercise = (values) => {\r\n        if (values.id) {    \r\n            const requestBody = JSON.stringify({ \r\n                reps: values.reps,\r\n                seconds: values.seconds\r\n            });\r\n            this.props.completedExerciseActions.updateCompletedExercise(values.id, requestBody).then(result => {\r\n                this.props.combinedRecentActivityActions.loadCombinedRecentActivities(1, 5);\r\n            });\r\n        } else {\r\n            const requestBody = JSON.stringify({\r\n                exercise_name: values.exercise_name,\r\n                measured_by: values.measured_by,\r\n                exercise_category_id: values.exercise_category_id,\r\n                reps: values.reps,\r\n                seconds: values.seconds\r\n            });\r\n            this.props.completedExerciseActions.addCompletedExercise(requestBody).then(result => {\r\n                this.props.combinedRecentActivityActions.loadCombinedRecentActivities(1, 5);\r\n                // we need to refresh buttons too to pick up the new one!\r\n                this.props.activityTypeActions.loadActivityTypes();\r\n            });\r\n        }\r\n\r\n        this.setState({\r\n            showCompletedExerciseForm: false,\r\n        });\r\n    }\r\n\r\n    handleCloseCompletedExerciseForm = () => {\r\n        this.setState({\r\n            showCompletedExerciseForm: false,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const user = this.props.user;\r\n        \r\n        let exerciseTypeIdsToExcludeFromAdhocButtons = [];\r\n        for (let categoryAndPeriodGroup of this.props.plannedExercises) {\r\n            for (let exercise of categoryAndPeriodGroup.exercises) {\r\n                exerciseTypeIdsToExcludeFromAdhocButtons.push(exercise.exercise_type_id);\r\n            }\r\n        }\r\n\r\n        return (\r\n            // This is where we can add routing in due course\r\n            <>\r\n            <Spinner />\r\n            <Alert onActionLinkClick={this.handleEditCompletedExercise} />\r\n            {user && (!user.has_flexible_planning_enabled || user.has_planned_activity_for_today) && (\r\n            <TodoContainer planningPeriod=\"day\" />)}\r\n            {user && user.has_flexible_planning_enabled && (user.has_planned_activity_for_this_week || !user.has_planned_activity_for_today) && (\r\n            <TodoContainer planningPeriod=\"week\" />)}\r\n            <RecentActivityContainer onEditCompletedExercise={this.handleEditCompletedExercise} />\r\n            <StravaImportContainer />\r\n            <div className=\"card mt-3\">\r\n                <div className=\"card-header\">\r\n                    <h4>Record adhoc exercises</h4>\r\n                </div>\r\n                <div className=\"card-body exercise-buttons\">\r\n                    <p>Wanting to do a few extra exercises? Use the buttons below to record them as you complete each exercise, without adding to your training plan.</p>\r\n                    <ExerciseTypeButtonSet calendarDay={this.props.calendarDay} onAdd={this.handleCompleteAdhocExercise} exerciseTypeIdsToExclude={exerciseTypeIdsToExcludeFromAdhocButtons} />\r\n                </div>\r\n            </div>\r\n            <CountersContainer />\r\n            {this.state.showCompletedExerciseForm && (\r\n            <CompletedExerciseFormModal className=\"modal\" initData={this.state.completedExerciseFormInitData} onSubmit={this.handleSaveCompletedExercise} close={this.handleCloseCompletedExerciseForm} />)}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.user,\r\n        plannedExercises: state.plannedExercises,\r\n        exerciseCategories: state.exerciseCategories\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        plannedActivityActions: bindActionCreators(plannedActivityActions, dispatch),\r\n        completedExerciseActions: bindActionCreators(completedExerciseActions, dispatch),\r\n        combinedRecentActivityActions: bindActionCreators(combinedRecentActivityActions, dispatch),\r\n        userActions: bindActionCreators(userActions, dispatch),\r\n        activityTypeActions: bindActionCreators(activityTypeActions, dispatch),\r\n        annualStatsActions: bindActionCreators(annualStatsActions, dispatch)\r\n    };\r\n}\r\n\r\nApp = connect(mapStateToProps, mapDispatchToProps)(App);\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport { pendingTasksReducer } from \"react-redux-spinner\";\r\n\r\nimport combinedRecentActivitiesReducer from \"./reducers/combinedRecentActivitiesReducer\"\r\nimport completedActivitiesReducer from \"./reducers/completedActivitiesReducer\";\r\nimport plannedActivitiesReducer from \"./reducers/plannedActivitiesReducer\";\r\nimport completedExercisesReducer from \"./reducers/completedExercisesReducer\";\r\nimport plannedExercisesReducer from \"./reducers/plannedExercisesReducer\";\r\nimport userReducer from \"./reducers/userReducer\";\r\nimport exerciseTypesReducer from \"./reducers/exerciseTypesReducer\";\r\nimport exerciseCategoriesReducer from \"./reducers/exerciseCategoriesReducer\";\r\nimport annualStatsReducer from \"./reducers/annualStatsReducer\";\r\nimport alertReducer from \"./reducers/alertReducer\";\r\nimport App from \"./components/App\";\r\nimport \"./base.css\";\r\n\r\nconst rootReducer = combineReducers({\r\n    form: formReducer,\r\n    combinedRecentActivities: combinedRecentActivitiesReducer,\r\n    completedActivities: completedActivitiesReducer,\r\n    plannedActivities: plannedActivitiesReducer,\r\n    completedExercises: completedExercisesReducer,\r\n    plannedExercises: plannedExercisesReducer,\r\n    user: userReducer,\r\n    exerciseTypes: exerciseTypesReducer,\r\n    exerciseCategories: exerciseCategoriesReducer,\r\n    annualStats: annualStatsReducer,\r\n    pendingTasks: pendingTasksReducer,\r\n    alert: alertReducer\r\n});\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    applyMiddleware(thunk)\r\n);\r\n\r\n// Use a Main class that we can flesh out to include routing as we start to do more of the site's functionality from React\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById(\"container\")\r\n);","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function combinedRecentActivitiesReducer(state, action) {\r\n    if (state === undefined) {\r\n        return {\r\n            pageNo: null,\r\n            prevPageNo: null,\r\n            nextPageNo: 1,\r\n            activitiesAndExercises: []\r\n        }\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_COMBINED_RECENT_ACTIVITIES_SUCCESS:\r\n            return {\r\n                pageNo: action.pageNo,\r\n                prevPageNo: action.prevPageNo,\r\n                nextPageNo: action.nextPageNo,\r\n                activitiesAndExercises: action.activitiesAndExercises\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function completedActivitiesReducer(state, action) {\r\n    if (state === undefined) {\r\n        return [];\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_COMPLETED_ACTIVITIES_SUCCESS:\r\n            return action.completedActivities;\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function plannedActivitiesReducer(state, action) {\r\n    if (state === undefined) {\r\n        return [];\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_PLANNED_ACTIVITIES_SUCCESS:\r\n            return action.plannedActivities;\r\n        // todo: doesn't handle single-date scope at present\r\n        // case types.DELETE_PLANNED_ACTIVITY_SUCCESS:\r\n        //     const remainingActivities = state.filter(function(plannedActivity) {\r\n        //         return plannedActivity.id !== action.deletedId;\r\n        //     });\r\n        //     return remainingActivities;\r\n        // TODO: proper reducer for adds and updates so that we can avoid the refresh to update state.  Probably more easy to think about once our data model allows for one-offs?\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function completedExercisesReducer(state, action) {\r\n    if (state === undefined) {\r\n        return [];\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_COMPLETED_EXERCISES_SUCCESS:\r\n            return action.completedExercises;\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function plannedExercisesReducer(state, action) {\r\n    if (state === undefined) {\r\n        return [];\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_PLANNED_EXERCISES_SUCCESS:\r\n            return action.plannedExercises;\r\n        // todo: doesn't handle single-date scope at present\r\n        // case types.DELETE_PLANNED_EXERCISE_SUCCESS:\r\n        //     let remainingPlannedExerciseCategories = []\r\n        //     let remainingExercises;\r\n        //     for (let plannedExerciseCategory of state) {\r\n        //         remainingExercises = plannedExerciseCategory.exercises.filter(function(plannedExercise) {\r\n        //             return plannedExercise.id !== action.deletedId;\r\n        //         });\r\n        //         if (remainingExercises.length > 0) {\r\n        //             plannedExerciseCategory.exercises = remainingExercises;\r\n        //             remainingPlannedExerciseCategories.push(plannedExerciseCategory);\r\n        //         }\r\n        //     }\r\n        //     return remainingPlannedExerciseCategories;\r\n        // todo: proper reducers for update and create that avoid the need to refresh\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function userReducer(state, action) {\r\n    if (state === undefined) {\r\n        return null;\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_USER_INFO_SUCCESS:\r\n            return {\r\n                distance_uom_preference: action.userInfo.distance_uom_preference,\r\n                has_flexible_planning_enabled: action.userInfo.has_flexible_planning_enabled,\r\n                has_planned_activity_for_today: action.userInfo.has_planned_activity_for_today,\r\n                has_planned_activity_for_this_week: action.userInfo.has_planned_activity_for_this_week,\r\n                strava_client_id: action.userInfo.strava_client_id,\r\n                strava_client_secret: action.userInfo.strava_client_secret,\r\n                ...state\r\n            };\r\n        case types.UPDATE_USER_INFO_SUCCESS:\r\n            return {\r\n                distance_uom_preference: action.updatedUserInfo.distance_uom_preference,\r\n                has_flexible_planning_enabled: action.updatedUserInfo.has_flexible_planning_enabled,\r\n                has_planned_activity_for_today: action.updatedUserInfo.has_planned_activity_for_today,\r\n                has_planned_activity_for_this_week: action.updatedUserInfo.has_planned_activity_for_this_week,\r\n                ...state\r\n            };\r\n        case types.STORE_USER_STRAVA_ACCESS_TOKEN:\r\n            return {\r\n                ...state,\r\n                strava_access_token: action.stravaAccessToken\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function exerciseTypesReducer(state, action) {\r\n    if (state === undefined) {\r\n        return [];\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_EXERCISE_TYPES_SUCCESS:\r\n            return action.exerciseTypes;\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function exerciseCategoriesReducer(state, action) {\r\n    if (state === undefined) {\r\n        return [];\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_EXERCISE_CATEGORIES_SUCCESS:\r\n            return action.exerciseCategories;\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function annualStatsReducer(state, action) {\r\n    if (state === undefined) {\r\n        return {\r\n            heading: \"\",\r\n            counters: []\r\n        };\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_ANNUAL_STATS_SUCCESS:\r\n            return action.annualStats;\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function alertReducer(state, action) {\r\n    if (state === undefined) {\r\n        return {\r\n            showAlert: false,\r\n            message: null\r\n        };\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.SHOW_ALERT:\r\n            return {\r\n                showAlert: true,\r\n                message: action.alertMessage,\r\n                actionLinkText: action.actionLinkText,\r\n                actionFormInitData: action.actionFormInitData\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}"],"sourceRoot":""}