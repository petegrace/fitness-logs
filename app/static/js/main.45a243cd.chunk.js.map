{"version":3,"sources":["static/img/btn_strava_connectwith_orange.png","actions/actionTypes.js","api/PlannedActivitiesApi.js","api/PlannedActivityApi.js","actions/plannedActivityActions.js","actions/plannedRaceActions.js","actions/plannedExerciseActions.js","api/CompletedExercisesApi.js","api/CompletedExerciseApi.js","actions/alertActions.js","actions/completedExerciseActions.js","api/CompletedActivitiesApi.js","actions/combinedRecentActivityActions.js","api/UserApi.js","actions/userActions.js","api/ActivityTypesApi.js","actions/activityTypeActions.js","actions/exerciseTypeActions.js","actions/exerciseCategoryActions.js","api/AnnualStatsApi.js","actions/annualStatsActions.js","components/Alert.js","components/StravaImportButton.js","components/TodoContainer.js","helpers/trainingPlan.js","components/CounterBox.js","components/CountersContainer.js","components/RecentActivityContainer.js","actions/completedActivityActions.js","components/StravaImportContainer.js","components/ExerciseTypeButtonSet.js","components/CompletedExerciseFormModal.js","components/App.js","index.js","reducers/combinedRecentActivitiesReducer.js","reducers/completedActivitiesReducer.js","reducers/plannedActivitiesReducer.js","reducers/completedExercisesReducer.js","reducers/plannedExercisesReducer.js","reducers/userReducer.js","reducers/exerciseTypesReducer.js","reducers/exerciseCategoriesReducer.js","reducers/annualStatsReducer.js","reducers/alertReducer.js"],"names":["module","exports","LOAD_PLANNED_ACTIVITIES","LOAD_PLANNED_ACTIVITIES_SUCCESS","DELETE_PLANNED_ACTIVITY_SUCCESS","UPDATE_PLANNED_ACTIVITY_SUCCESS","ADD_PLANNED_ACTIVITY_SUCCESS","LOAD_PLANNED_RACES_SUCCESS","LOAD_PLANNED_EXERCISES_SUCCESS","LOAD_COMPLETED_ACTIVITIES","LOAD_COMPLETED_ACTIVITIES_SUCCESS","ADD_COMPLETED_ACTIVITIES","ADD_COMPLETED_ACTIVITIES_SUCCESS","LOAD_COMBINED_RECENT_ACTIVITIES","LOAD_COMBINED_RECENT_ACTIVITIES_SUCCESS","LOAD_COMPLETED_EXERCISES_SUCCESS","ADD_COMPLETED_EXERCISE","ADD_COMPLETED_EXERCISE_SUCCESS","UPDATE_COMPLETED_EXERCISE","UPDATE_COMPLETED_EXERCISE_SUCCESS","LOAD_ACTIVITY_TYPES","LOAD_ACTIVITY_TYPES_SUCCESS","LOAD_EXERCISE_TYPES_SUCCESS","LOAD_EXERCISE_CATEGORIES_SUCCESS","LOAD_USER_INFO","LOAD_USER_INFO_SUCCESS","UPDATE_USER_INFO","UPDATE_USER_INFO_SUCCESS","STORE_USER_STRAVA_ACCESS_TOKEN","LOAD_ANNUAL_STATS","LOAD_ANNUAL_STATS_SUCCESS","SHOW_ALERT","ERROR_ENCOUNTERED","PlannedActivitiesApi","_this","this","Object","classCallCheck","getPlannedActivities","startDate","endDate","options","method","headers","Authorization","authHeader","endpoint","endpointOrigin","dateFns","dateFormat","fetch","then","response","ok","json","catch","error","postPlannedActivities","requestBody","Content-Type","body","mode","accessToken","ls","get","window","location","origin","PlannedActivityApi","patchPlannedActivity","id","deletePlannedActivity","scope","Error","statusText","loadPlannedActivities","dispatch","defineProperty","type","types","pendingTask","begin","responseData","loadPlannedActivitiesSuccess","plannedRaces","planned_races","loadPlannedRacesSuccess","plannedExercises","planned_exercises","loadPlannedExercisesSuccess","end","_ref","planned_activities","addPlannedActivity","addPlannedActivitySuccess","addedId","updatePlannedActivity","result","updatePlannedActivitySuccess","updatedId","deletePlannedActivitySuccess","deletedId","CompletedExercisesApi","postCompletedExercises","CompletedExerciseApi","patchCompletedExercise","showAlert","alertMessage","actionLinkText","actionFormInitData","loadCompletedExercisesSuccess","completedExercises","completed_exercises","dispatchCompletedExerciseAlert","operation","exercise_name","exercise_datetime","format","Date","measured_by","reps","seconds","addCompletedExercise","addCompletedExerciseSuccess","updateCompletedExercise","updateCompletedExerciseSuccess","_ref2","CompletedActivitiesApi","getCompletedActivities","getRecentActivities","pageNo","pageSize","combineExercises","postCompletedActivities","loadCombinedRecentActivities","loadCombinedRecentActivitiesSuccess","page_no","prev_page_no","next_page_no","activities_and_exercises","UserApi","getUserInfo","patchUserInfo","loadUserInfo","loadUserInfoSuccess","user_info","updateUserInfo","updateUserInfoSuccess","updated_user_info","updateUserStravaAccessToken","stravaAccessToken","ActivityTypesApi","getActivityTypes","loadActivityTypes","loadActivityTypesSuccess","exerciseTypes","exercise_types","loadExerciseTypesSuccess","exerciseCategories","exercise_categories","loadExerciseCategoriesSuccess","activity_types","AnnualStatsApi","getAnnualStats","loadAnnualStats","loadAnnualStatsSuccess","Alert","alert","props","react_default","a","createElement","Fragment","className","message","href","onClick","onActionLinkClick","Component","connect","state","StravaImportButton","redirectUri","stravaAuthCreds","user","clientId","strava_client_id","clientSecret","strava_client_secret","react_oauth_flow_m","authorizeUrl","args","render","url","role","buttonClass","buttonContent","TodoContainer","possibleConstructorReturn","getPrototypeOf","call","handleCompleteExercise","plannedExerciseId","JSON","stringify","planned_exercise_id","completedExerciseActions","plannedActivityActions","weekStartDate","today","combinedRecentActivityActions","annualStatsActions","renderPlannedActivityButton","plannedActivity","category_key","key","components_StravaImportButton","activity_subtype","planned_distance_formatted","renderPlannedExerciseButton","plannedExercise","planned_reps","planned_seconds","planned_sets","completed_sets","weekStartsOn","planningPeriod","planningPeriodDate","planningPeriodDateFormatted","planningPeriodFriendlyDescription","hasPlannedActivityForToday","has_planned_activity_for_today","hasPlannedActivityForThisWeek","has_planned_activity_for_this_week","hasPlannedActivityForPeriod","plannedActivities","day","jsonDate","filter","planned_date","planning_period","filterPlannedActivities","plannedActivityButtons","map","plannedExerciseCategories","plannedExerciseCategory","filterPlannedExercises","plannedExerciseButtons","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","push","exercises","err","return","length","bindActionCreators","CounterBox","classes","categoryKey","categoryName","uom","CountersContainer","createCounterBoxes","counter","components_CounterBox","category_name","counters","annualStats","counterBoxes","heading","RecentActivityContainer","handleViewNewerActivity","combinedRecentActivities","prevPageNo","handleViewOlderActivity","nextPageNo","renderRecentActivityRow","recentActivity","activityUrl","viewOnStravaUrl","external_id","exerciseDatetimeFormatted","activity_datetime","editFormInitData","name","scheduled_exercise_id","is_race","source","distance_formatted","onEditCompletedExercise","_this2","recentActivities","activitiesAndExercises","recentActivityRows","newerNavClass","olderNavClass","loadCompletedActivities","loadCompletedActivitiesSuccess","completed_activities","addCompletedActivities","addCompletedActivitiesSuccess","messages","StravaImportContainer","handleAuthorizationSuccess","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","userActions","set","strava_access_token","completedActivityActions","stop","_x","_x2","apply","arguments","handleAuthorizationError","console","log","startOfWeek","urlParams","URLSearchParams","search","src","require","alt","has","tokenUrl","onAuthSuccess","onAuthError","ExerciseTypeButtonSet","renderExerciseTypeButton","exerciseType","onAdd","default_reps","default_seconds","exerciseTypeIdsToExclude","exerciseTypeButtons","includes","CompletedExerciseFormModal","renderCategorySelectOption","categoryOption","initData","initialize","categorySelectOptions","_this$props","handleSubmit","isNewExerciseType","categoryOptions","close","onSubmit","Field","component","renderField","label","htmlFor","measuredByValue","input","_ref$meta","meta","touched","warning","assign","reduxForm","form","selector","formValueSelector","App","handleCompleteAdhocExercise","exerciseTypeId","exercise_type_id","formInitData","exercise_category_id","setState","showCompletedExerciseForm","completedExerciseFormInitData","handleEditCompletedExercise","handleSaveCompletedExercise","values","activityTypeActions","handleCloseCompletedExerciseForm","exerciseTypeIdsToExcludeFromAdhocButtons","categoryAndPeriodGroup","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","exercise","esm","components_Alert","has_flexible_planning_enabled","components_TodoContainer","components_RecentActivityContainer","components_StravaImportContainer","components_ExerciseTypeButtonSet","calendarDay","components_CountersContainer","components_CompletedExerciseFormModal","rootReducer","combineReducers","formReducer","action","completedActivities","objectSpread","distance_uom_preference","userInfo","updatedUserInfo","pendingTasks","pendingTasksReducer","store","createStore","applyMiddleware","thunk","ReactDOM","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.45a243cd.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","export const LOAD_PLANNED_ACTIVITIES = \"LOAD_PLANNED_ACTIVITIES\";\r\nexport const LOAD_PLANNED_ACTIVITIES_SUCCESS = \"LOAD_PLANNED_ACTIVITIES_SUCCESS\";\r\nexport const DELETE_PLANNED_ACTIVITY = \"DELETE_PLANNED_ACTIVITY\";\r\nexport const DELETE_PLANNED_ACTIVITY_SUCCESS = \"DELETE_PLANNED_ACTIVITY_SUCCESS\";\r\nexport const UPDATE_PLANNED_ACTIVITY = \"UPDATE_PLANNED_ACTIVITY\";\r\nexport const UPDATE_PLANNED_ACTIVITY_SUCCESS = \"UPDATE_PLANNED_ACTIVITY_SUCCESS\";\r\nexport const ADD_PLANNED_ACTIVITY = \"ADD_PLANNED_ACTIVITY\";\r\nexport const ADD_PLANNED_ACTIVITY_SUCCESS = \"ADD_PLANNED_ACTIVITY_SUCCESS\";\r\n\r\nexport const LOAD_PLANNED_RACES = \"LOAD_PLANNED_RACES\";\r\nexport const LOAD_PLANNED_RACES_SUCCESS = \"LOAD_PLANNED_RACES_SUCCESS\";\r\nexport const DELETE_PLANNED_RACE = \"DELETE_PLANNED_RACE\";\r\nexport const DELETE_PLANNED_RACE_SUCCESS = \"DELETE_PLANNED_RACE_SUCCESS\";\r\nexport const UPDATE_PLANNED_RACE = \"UPDATE_PLANNED_RACE\";\r\nexport const UPDATE_PLANNED_RACE_SUCCESS = \"UPDATE_PLANNED_RACE_SUCCESS\";\r\nexport const ADD_PLANNED_RACE = \"ADD_PLANNED_RACE\";\r\nexport const ADD_PLANNED_RACE_SUCCESS = \"ADD_PLANNED_RACE_SUCCESS\";\r\n\r\nexport const LOAD_PLANNED_EXERCISES = \"LOAD_PLANNED_EXERCISES\";\r\nexport const LOAD_PLANNED_EXERCISES_SUCCESS = \"LOAD_PLANNED_EXERCISES_SUCCESS\";\r\nexport const DELETE_PLANNED_EXERCISE = \"DELETE_PLANNED_EXERCISE\";\r\nexport const DELETE_PLANNED_EXERCISE_SUCCESS = \"DELETE_PLANNED_EXERCISE_SUCCESS\";\r\nexport const UPDATE_PLANNED_EXERCISE = \"UPDATE_PLANNED_EXERCISE\";\r\nexport const UPDATE_PLANNED_EXERCISE_SUCCESS = \"UPDATE_PLANNED_EXERCISE_SUCCESS\";\r\nexport const ADD_PLANNED_EXERCISE = \"ADD_PLANNED_EXERCISE\";\r\nexport const ADD_PLANNED_EXERCISE_SUCCESS = \"ADD_PLANNED_EXERCISE_SUCCESS\";\r\n\r\nexport const LOAD_COMPLETED_ACTIVITIES = \"LOAD_COMPLETED_ACTIVITIES\";\r\nexport const LOAD_COMPLETED_ACTIVITIES_SUCCESS = \"LOAD_COMPLETED_ACTIVITIES_SUCCESS\";\r\nexport const ADD_COMPLETED_ACTIVITIES = \"ADD_COMPLETED_ACTIVITIES\";\r\nexport const ADD_COMPLETED_ACTIVITIES_SUCCESS = \"ADD_COMPLETED_ACTIVITIES_SUCCESS\";\r\n\r\nexport const LOAD_COMBINED_RECENT_ACTIVITIES = \"LOAD_COMBINED_RECENT_ACTIVITIES\";\r\nexport const LOAD_COMBINED_RECENT_ACTIVITIES_SUCCESS = \"LOAD_COMBINED_RECENT_ACTIVITIES_SUCCESS\";\r\n\r\nexport const LOAD_COMPLETED_EXERCISES_SUCCESS = \"LOAD_COMPLETED_EXERCISES_SUCCESS\";\r\nexport const ADD_COMPLETED_EXERCISE = \"ADD_COMPLETED_EXERCISE\";\r\nexport const ADD_COMPLETED_EXERCISE_SUCCESS = \"ADD_COMPLETED_EXERCISE_SUCCESS\";\r\nexport const UPDATE_COMPLETED_EXERCISE = \"UPDATE_COMPLETED_EXERCISE\";\r\nexport const UPDATE_COMPLETED_EXERCISE_SUCCESS = \"UPDATE_COMPLETED_EXERCISE_SUCCESS\";\r\n\r\nexport const LOAD_ACTIVITY_TYPES = \"LOAD_ACTIVITY_TYPES\";\r\nexport const LOAD_ACTIVITY_TYPES_SUCCESS = \"LOAD_ACTIVITY_TYPES_SUCCESS\";\r\n\r\nexport const LOAD_EXERCISE_TYPES_SUCCESS = \"LOAD_EXERCISE_TYPES_SUCCESS\";\r\n\r\nexport const LOAD_EXERCISE_CATEGORIES_SUCCESS = \"LOAD_EXERCISE_CATEGORIES_SUCCESS\";\r\n\r\nexport const LOAD_TRAINING_PLAN_TEMPLATES_SUCCESS = \"LOAD_TRAINING_PLAN_TEMPLATES_SUCCESS\";\r\nexport const COPY_TRAINING_PLAN_TEMPLATE_SUCCESS = \"COPY_TRAINING_PLAN_TEMPLATE_SUCCESS\";\r\n\r\nexport const LOAD_USER_INFO = \"LOAD_USER_INFO\";\r\nexport const LOAD_USER_INFO_SUCCESS = \"LOAD_USER_INFO_SUCCESS\";\r\nexport const UPDATE_USER_INFO = \"UPDATE_USER_INFO\";\r\nexport const UPDATE_USER_INFO_SUCCESS = \"UPDATE_USER_INFO_SUCCESS\";\r\nexport const STORE_USER_STRAVA_ACCESS_TOKEN = \"STORE_USER_STRAVA_ACCESS_TOKEN\";\r\n\r\nexport const LOAD_ANNUAL_STATS = \"LOAD_ANNUAL_STATS\";\r\nexport const LOAD_ANNUAL_STATS_SUCCESS = \"LOAD_ANNUAL_STATS_SUCCESS\";\r\n\r\nexport const SHOW_ALERT = \"SHOW_ALERT\";\r\n\r\nexport const ERROR_ENCOUNTERED = \"ERROR_ENCOUNTERED\";","import * as dateFns from \"date-fns\";\r\nimport ls from \"local-storage\";\r\n                \r\nclass PlannedActivitiesApi {\r\n    constructor() {\r\n        const accessToken = ls.get(\"accessToken\");\r\n\r\n        this.authHeader = \"Bearer \" + accessToken;\r\n        this.endpointOrigin = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000\" : (window.location.origin);\r\n        this.dateFormat = \"YYYY-MM-DD\";\r\n    }\r\n    \r\n    getPlannedActivities = (startDate, endDate) => {\r\n        const options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader\r\n            }\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/planned_activities?\"\r\n                                             + \"startDate=\" + dateFns.format(startDate, this.dateFormat)\r\n                                             + \"&endDate=\" + dateFns.format(endDate, this.dateFormat);\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            return error;\r\n        });\r\n    }\r\n    \r\n    postPlannedActivities = (requestBody) => {\r\n        const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: requestBody,\r\n            mode: \"cors\"\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/planned_activities\";\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            return error;\r\n        });\r\n    }\r\n}\r\n\r\nexport default PlannedActivitiesApi;","import ls from \"local-storage\";\r\n                \r\nclass PlannedActivityApi {\r\n    constructor() {\r\n        const accessToken = ls.get(\"accessToken\");\r\n\r\n        this.authHeader = \"Bearer \" + accessToken;\r\n        this.endpointOrigin = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000\" : (window.location.origin);\r\n    }\r\n\r\n    patchPlannedActivity = (id, requestBody) => {\r\n        const options = {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: requestBody,\r\n            mode: \"cors\"\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/planned_activity/\" + id;\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return true;\r\n            }\r\n        }).catch(error => {\r\n            return error;\r\n        });\r\n    }\r\n\r\n    deletePlannedActivity = (id, scope) => {\r\n        const options = {\r\n            method: \"DELETE\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader\r\n            }\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/planned_activity/\" + id + \"?scope=\" + scope;\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return true;\r\n            } else {\r\n                throw Error(response.statusText);\r\n            }\r\n        }).catch(error => {\r\n            return error;\r\n        });\r\n    }\r\n}\r\n\r\nexport default PlannedActivityApi;","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport PlannedActivitiesApi from \"../api/PlannedActivitiesApi\";\r\nimport PlannedActivityApi from \"../api/PlannedActivityApi\";\r\nimport { loadPlannedRacesSuccess } from \"./plannedRaceActions\";\r\nimport { loadPlannedExercisesSuccess } from \"./plannedExerciseActions\";\r\n\r\nexport function loadPlannedActivities(startDate, endDate) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.LOAD_PLANNED_ACTIVITIES,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new PlannedActivitiesApi();\r\n        return api.getPlannedActivities(startDate, endDate).then(responseData => {\r\n            if (responseData) {\r\n                dispatch(loadPlannedActivitiesSuccess(responseData));\r\n                dispatch(loadPlannedRacesSuccess(responseData));\r\n                dispatch(loadPlannedExercisesSuccess(responseData));\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            })\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function loadPlannedActivitiesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_PLANNED_ACTIVITIES_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        plannedActivities: responseData.planned_activities\r\n    };\r\n}\r\n\r\nexport function addPlannedActivity(requestBody) {\r\n    return function(dispatch) {\r\n        const api = new PlannedActivitiesApi();\r\n        return api.postPlannedActivities(requestBody).then(responseData => {\r\n            dispatch(addPlannedActivitySuccess(responseData));\r\n        }).catch(error => {\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function addPlannedActivitySuccess(responseData) {\r\n    return {\r\n        type: types.ADD_PLANNED_ACTIVITY_SUCCESS,\r\n        addedId: responseData.id\r\n    };\r\n}\r\n\r\nexport function updatePlannedActivity(id, requestBody) {\r\n    return function(dispatch) {\r\n        const api = new PlannedActivityApi();\r\n        return api.patchPlannedActivity(id, requestBody).then(result => {\r\n            dispatch(updatePlannedActivitySuccess(id));\r\n        }).catch(error => {\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function updatePlannedActivitySuccess(id) {\r\n    return {\r\n        type: types.UPDATE_PLANNED_ACTIVITY_SUCCESS,\r\n        updatedId: id\r\n    };\r\n}\r\n\r\nexport function deletePlannedActivity(id, scope) {\r\n    return function(dispatch) {\r\n        const api = new PlannedActivityApi();\r\n        return api.deletePlannedActivity(id, scope).then(result => {\r\n            dispatch(deletePlannedActivitySuccess(id, scope));\r\n        }).catch(error => {\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function deletePlannedActivitySuccess(id, scope) {\r\n    return {\r\n        type: types.DELETE_PLANNED_ACTIVITY_SUCCESS,\r\n        deletedId: id,\r\n        scope: scope\r\n    };\r\n}","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport PlannedRacesApi from \"../api/PlannedRacesApi\";\r\nimport PlannedRaceApi from \"../api/PlannedRaceApi\";\r\n\r\nexport function loadPlannedRacesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_PLANNED_RACES_SUCCESS,\r\n        plannedRaces: responseData.planned_races\r\n    };\r\n}\r\n\r\nexport function addPlannedRace(requestBody) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.ADD_PLANNED_RACE,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new PlannedRacesApi();\r\n        return api.postPlannedRaces(requestBody).then(responseData => {\r\n            dispatch(addPlannedRaceSuccess(responseData));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function addPlannedRaceSuccess(responseData) {\r\n    return {\r\n        type: types.ADD_PLANNED_RACE_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        addedId: responseData.id\r\n    };\r\n}\r\n\r\nexport function updatePlannedRace(id, requestBody) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.UPDATE_PLANNED_RACE,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new PlannedRaceApi();\r\n        return api.patchPlannedRace(id, requestBody).then(result => {\r\n            dispatch(updatePlannedRaceSuccess(id));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function updatePlannedRaceSuccess(id) {\r\n    return {\r\n        type: types.UPDATE_PLANNED_RACE_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        updatedId: id\r\n    };\r\n}\r\n\r\nexport function deletePlannedRace(id) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.DELETE_PLANNED_RACE,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new PlannedRaceApi();\r\n        return api.deletePlannedRace(id).then(result => {\r\n            dispatch(deletePlannedRaceSuccess(id));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function deletePlannedRaceSuccess(id) {\r\n    return {\r\n        type: types.DELETE_PLANNED_RACE_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        deletedId: id\r\n    };\r\n}","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport PlannedExerciseApi from \"../api/PlannedExerciseApi\";\r\nimport PlannedExercisesApi from \"../api/PlannedExercisesApi\";\r\n\r\nexport function loadPlannedExercisesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_PLANNED_EXERCISES_SUCCESS,\r\n        plannedExercises: responseData.planned_exercises\r\n    };\r\n}\r\n\r\nexport function addPlannedExercise(requestBody) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.ADD_PLANNED_EXERCISE,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new PlannedExercisesApi();\r\n        return api.postPlannedExercises(requestBody).then(responseData => {\r\n            dispatch(addPlannedExerciseSuccess(responseData));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function addPlannedExerciseSuccess(responseData) {\r\n    return {\r\n        type: types.ADD_PLANNED_EXERCISE_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        addedId: responseData.id\r\n    };\r\n}\r\n\r\nexport function updatePlannedExercise(id, requestBody) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.UPDATE_PLANNED_EXERCISE,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new PlannedExerciseApi();\r\n        return api.patchPlannedExercise(id, requestBody).then(result => {\r\n            dispatch(updatePlannedExerciseSuccess(id));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function updatePlannedExerciseSuccess(id) {\r\n    return {\r\n        type: types.UPDATE_PLANNED_EXERCISE_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        updatedId: id\r\n    };\r\n}\r\n\r\nexport function deletePlannedExercise(id, scope) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.DELETE_PLANNED_EXERCISE,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new PlannedExerciseApi();\r\n        return api.deletePlannedExercise(id, scope).then(result => {\r\n            dispatch(deletePlannedExerciseSuccess(id));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function deletePlannedExerciseSuccess(id, scope) {\r\n    return {\r\n        type: types.DELETE_PLANNED_EXERCISE_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        deletedId: id,\r\n        scope: scope\r\n    };\r\n}","import ls from \"local-storage\";\r\n                \r\nclass CompletedExercisesApi {\r\n    constructor() {\r\n        const accessToken = ls.get(\"accessToken\");\r\n\r\n        this.authHeader = \"Bearer \" + accessToken;\r\n        this.endpointOrigin = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000\" : (window.location.origin);\r\n    }\r\n    \r\n    postCompletedExercises = (requestBody) => {\r\n        const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: requestBody,\r\n            mode: \"cors\"\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/completed_exercises\";\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            throw error;\r\n        });\r\n    }\r\n}\r\n\r\nexport default CompletedExercisesApi","import ls from \"local-storage\";\r\n                \r\nclass CompletedExerciseApi {\r\n    constructor() {\r\n        const accessToken = ls.get(\"accessToken\");\r\n\r\n        this.authHeader = \"Bearer \" + accessToken;\r\n        this.endpointOrigin = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000\" : (window.location.origin);\r\n    }\r\n\r\n    patchCompletedExercise = (id, requestBody) => {\r\n        const options = {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: requestBody,\r\n            mode: \"cors\"\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/completed_exercise/\" + id;\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            throw error;\r\n        });\r\n    }\r\n}\r\n\r\nexport default CompletedExerciseApi;","import * as types from \"./actionTypes\";\r\n\r\nexport function showAlert(alertMessage, actionLinkText, actionFormInitData) {\r\n    return {\r\n        type: types.SHOW_ALERT,\r\n        alertMessage: alertMessage,\r\n        actionLinkText: actionLinkText,\r\n        actionFormInitData: actionFormInitData\r\n    };\r\n}","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\nimport { format } from \"date-fns\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport CompletedExercisesApi from \"../api/CompletedExercisesApi\";\r\nimport CompletedExerciseApi from \"../api/CompletedExerciseApi\";\r\nimport { showAlert } from \"./alertActions\";\r\n\r\nexport function loadCompletedExercisesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_COMPLETED_EXERCISES_SUCCESS,\r\n        completedExercises: responseData.completed_exercises\r\n    };\r\n}\r\n\r\nfunction dispatchCompletedExerciseAlert(operation, responseData, dispatch) {\r\n    const alertMessage = operation + \" \" + responseData.exercise_name + \".\";\r\n    const actionLinkText = \"Edit\";\r\n    const actionFormInitData = {\r\n        id: responseData.id,\r\n        exercise_name: responseData.exercise_name,\r\n        exercise_datetime: format(new Date(responseData.exercise_datetime), \"ddd DD MMM HH:mm:ss\"),\r\n        measured_by: responseData.measured_by,\r\n        reps: responseData.reps,\r\n        seconds: responseData.seconds\r\n    };\r\n    dispatch(showAlert(alertMessage, actionLinkText, actionFormInitData));\r\n}\r\n\r\nexport function addCompletedExercise(requestBody) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.ADD_COMPLETED_EXERCISE,\r\n            [ pendingTask ]: begin\r\n        });\r\n\r\n        const api = new CompletedExercisesApi();\r\n        return api.postCompletedExercises(requestBody).then(responseData => {\r\n            dispatch(addCompletedExerciseSuccess(responseData, dispatch));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            })\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function addCompletedExerciseSuccess(responseData, dispatch) {\r\n    dispatchCompletedExerciseAlert(\"Added\", responseData, dispatch);\r\n\r\n    return {\r\n        type: types.ADD_COMPLETED_EXERCISE_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        addedId: responseData.id,\r\n        addedExerciseName: responseData.exercise_name\r\n    };\r\n}\r\n\r\nexport function updateCompletedExercise(id, requestBody) {    \r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.UPDATE_COMPLETED_EXERCISE,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new CompletedExerciseApi();\r\n        return api.patchCompletedExercise(id, requestBody).then(responseData => {\r\n            dispatch(updateCompletedExerciseSuccess(responseData, dispatch));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function updateCompletedExerciseSuccess(responseData, dispatch) {\r\n    dispatchCompletedExerciseAlert(\"Updated\", responseData, dispatch);\r\n\r\n    return {\r\n        type: types.UPDATE_COMPLETED_EXERCISE_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        updatedId: responseData.id\r\n    };\r\n}","import * as dateFns from \"date-fns\";\r\nimport ls from \"local-storage\";\r\n                \r\nclass CompletedActivitiesApi {\r\n    constructor() {\r\n        const accessToken = ls.get(\"accessToken\");\r\n\r\n        this.authHeader = \"Bearer \" + accessToken;\r\n        this.endpointOrigin = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000\" : (window.location.origin);\r\n        this.dateFormat = \"YYYY-MM-DD\";\r\n    }\r\n    \r\n    getCompletedActivities = (startDate, endDate) => {\r\n        const options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader\r\n            }\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/completed_activities?\"\r\n                                             + \"startDate=\" + dateFns.format(startDate, this.dateFormat)\r\n                                             + \"&endDate=\" + dateFns.format(endDate, this.dateFormat);\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            throw error;\r\n        });\r\n    }\r\n    \r\n    getRecentActivities = (pageNo, pageSize, combineExercises) => {\r\n        const options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader\r\n            }\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/completed_activities?\"\r\n                                             + \"pageNo=\" + pageNo\r\n                                             + \"&pageSize=\" + pageSize\r\n                                             + \"&combineExercises=\" + combineExercises;\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            throw error;\r\n        });\r\n    }\r\n\r\n    postCompletedActivities = (requestBody) => {        \r\n        const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: requestBody,\r\n            mode: \"cors\"\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/completed_activities\";\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            throw error;\r\n        });\r\n    }\r\n}\r\n\r\nexport default CompletedActivitiesApi;","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport CompletedActivitiesApi from \"../api/CompletedActivitiesApi\";\r\n\r\nexport function loadCombinedRecentActivities(pageNo, pageSize) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.LOAD_COMBINED_RECENT_ACTIVITIES,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new CompletedActivitiesApi();\r\n        const combineExercises = true;\r\n        return api.getRecentActivities(pageNo, pageSize, combineExercises).then(responseData => {\r\n            if (responseData) {\r\n                dispatch(loadCombinedRecentActivitiesSuccess(responseData));\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function loadCombinedRecentActivitiesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_COMBINED_RECENT_ACTIVITIES_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        pageNo: responseData.page_no,\r\n        prevPageNo: responseData.prev_page_no,\r\n        nextPageNo: responseData.next_page_no,\r\n        activitiesAndExercises: responseData.activities_and_exercises\r\n    };\r\n}","import ls from \"local-storage\";\r\n                \r\nclass UserApi {\r\n    constructor() {\r\n        const accessToken = ls.get(\"accessToken\");\r\n\r\n        this.authHeader = \"Bearer \" + accessToken;\r\n        this.endpointOrigin = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000\" : (window.location.origin);\r\n    }\r\n    \r\n    getUserInfo = () => {\r\n        const options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader\r\n            }\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/user_info\";\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            throw error;\r\n        });\r\n    }\r\n\r\n    patchUserInfo = (requestBody) => {\r\n        const options = {\r\n            method: \"PATCH\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: requestBody,\r\n            mode: \"cors\"\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/user_info\";\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            throw error;\r\n        });\r\n    }\r\n}\r\n\r\nexport default UserApi;","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport UserApi from \"../api/UserApi\";\r\n\r\nexport function loadUserInfo() {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.LOAD_USER_INFO,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new UserApi();\r\n        return api.getUserInfo().then(responseData => {\r\n            if (responseData) {\r\n                dispatch(loadUserInfoSuccess(responseData));\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function loadUserInfoSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_USER_INFO_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        userInfo: responseData.user_info\r\n    };\r\n}\r\n\r\nexport function updateUserInfo(id, requestBody) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.UPDATE_USER_INFO,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new UserApi();\r\n        return api.patchUserInfo(id, requestBody).then(responseData => {\r\n            if (responseData) {\r\n                dispatch(updateUserInfoSuccess(id, responseData));\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function updateUserInfoSuccess(id, responseData) {\r\n    return {\r\n        type: types.UPDATE_USER_INFO_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        updatedId: id,\r\n        updatedUserInfo: responseData.updated_user_info\r\n    };\r\n}\r\n\r\nexport function updateUserStravaAccessToken(accessToken) {\r\n    return {\r\n        type: types.STORE_USER_STRAVA_ACCESS_TOKEN,\r\n        stravaAccessToken: accessToken\r\n    };\r\n}","import ls from \"local-storage\";\r\n                \r\nclass ActivityTypesApi {\r\n    constructor() {\r\n        const accessToken = ls.get(\"accessToken\");\r\n\r\n        this.authHeader = \"Bearer \" + accessToken;\r\n        this.endpointOrigin = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000\" : (window.location.origin);\r\n    }\r\n    \r\n    getActivityTypes = () => {\r\n        const options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader\r\n            }\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/activity_types\";\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            return error;\r\n        });\r\n    }\r\n}\r\n\r\nexport default ActivityTypesApi;","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport ActivityTypesApi from \"../api/ActivityTypesApi\";\r\nimport { loadExerciseTypesSuccess } from \"./exerciseTypeActions\"\r\nimport { loadExerciseCategoriesSuccess } from \"./exerciseCategoryActions\"\r\n\r\nexport function loadActivityTypes() {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.LOAD_ACTIVITY_TYPES,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new ActivityTypesApi();\r\n        return api.getActivityTypes().then(responseData => {\r\n            if (responseData) {\r\n                dispatch(loadActivityTypesSuccess(responseData));\r\n                dispatch(loadExerciseTypesSuccess(responseData));\r\n                dispatch(loadExerciseCategoriesSuccess(responseData));\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function loadActivityTypesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_ACTIVITY_TYPES_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        activityTypes: responseData.activity_types\r\n    };\r\n}","import * as types from \"./actionTypes\";\r\n\r\nexport function loadExerciseTypesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_EXERCISE_TYPES_SUCCESS,\r\n        exerciseTypes: responseData.exercise_types\r\n    };\r\n}","import * as types from \"./actionTypes\";\r\n\r\nexport function loadExerciseCategoriesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_EXERCISE_CATEGORIES_SUCCESS,\r\n        exerciseCategories: responseData.exercise_categories\r\n    };\r\n}","import ls from \"local-storage\";\r\n                \r\nclass AnnualStatsApi {\r\n    constructor() {\r\n        const accessToken = ls.get(\"accessToken\");\r\n\r\n        this.authHeader = \"Bearer \" + accessToken;\r\n        this.endpointOrigin = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000\" : (window.location.origin);\r\n    }\r\n    \r\n    getAnnualStats = () => {\r\n        const options = {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Authorization\": this.authHeader\r\n            }\r\n        };\r\n        const endpoint = this.endpointOrigin + \"/api/annual_stats\";\r\n\r\n        return fetch(endpoint, options).then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n        }).catch(error => {\r\n            throw error;\r\n        });\r\n    }\r\n}\r\n\r\nexport default AnnualStatsApi;","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport AnnualStatsApi from \"../api/AnnualStatsApi\";\r\n\r\nexport function loadAnnualStats() {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.LOAD_ANNUAL_STATS,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new AnnualStatsApi();\r\n        return api.getAnnualStats().then(responseData => {\r\n            if (responseData) {\r\n                dispatch(loadAnnualStatsSuccess(responseData));\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function loadAnnualStatsSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_ANNUAL_STATS_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        annualStats: responseData\r\n    };\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass Alert extends Component {\r\n    render() {\r\n        const alert = this.props.alert;\r\n        return (\r\n            <>\r\n            {alert && alert.showAlert && (\r\n            <div className=\"alert alert-info\">\r\n                {alert.message}&nbsp;\r\n                {alert.actionLinkText && (\r\n                <>\r\n                (<a href=\"#action\" onClick={() => this.props.onActionLinkClick(alert.actionFormInitData)}>{alert.actionLinkText}</a>)\r\n                </>)}                \r\n            </div>)}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        alert: state.alert\r\n    };\r\n}\r\n\r\nAlert = connect(mapStateToProps)(Alert);\r\n\r\nexport default Alert;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { OauthSender } from \"react-oauth-flow\";\r\n\r\nclass StravaImportButton extends Component {\r\n    render() {\r\n        const redirectUri = window.location.origin + \"/hub\";\r\n        const stravaAuthCreds = this.props.user && {\r\n            clientId: this.props.user.strava_client_id,\r\n            clientSecret: this.props.user.strava_client_secret\r\n        };\r\n\r\n        return (\r\n            <OauthSender\r\n                authorizeUrl=\"https://www.strava.com/oauth/authorize\"\r\n                clientId={stravaAuthCreds.clientId}\r\n                redirectUri={redirectUri}\r\n                args={{ scope: \"profile:read_all,activity:read\"}}\r\n                render={({ url }) => <a href={url} role=\"button\" className={this.props.buttonClass}>{this.props.buttonContent}</a>} />\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.user\r\n    };\r\n}\r\n\r\nStravaImportButton = connect(mapStateToProps)(StravaImportButton);\r\n\r\nexport default StravaImportButton;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport * as dateFns from \"date-fns\";\r\n\r\nimport * as completedExerciseActions from \"../actions/completedExerciseActions\";\r\nimport * as plannedActivityActions from \"../actions/plannedActivityActions\";\r\nimport * as combinedRecentActivityActions from \"../actions/combinedRecentActivityActions\";\r\nimport * as annualStatsActions from \"../actions/annualStatsActions\";\r\nimport { filterPlannedExercises, filterPlannedActivities } from \"../helpers/trainingPlan\";\r\nimport StravaImportButton from \"./StravaImportButton\";\r\n\r\nclass TodoContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            today: new Date(),\r\n            weekStartDate: dateFns.startOfWeek(new Date(), {weekStartsOn: 1})\r\n        }\r\n    }\r\n\r\n    handleCompleteExercise = (plannedExerciseId) => {\r\n        const requestBody = JSON.stringify({ \r\n            planned_exercise_id: plannedExerciseId\r\n        });\r\n        \r\n        this.props.completedExerciseActions.addCompletedExercise(requestBody).then(result => {\r\n            this.props.plannedActivityActions.loadPlannedActivities(this.state.weekStartDate, this.state.today);\r\n            this.props.combinedRecentActivityActions.loadCombinedRecentActivities(1, 5);\r\n            this.props.annualStatsActions.loadAnnualStats();\r\n        });\r\n    }\r\n\r\n    renderPlannedActivityButton = (plannedActivity) => {\r\n        const buttonClass = \"btn btn-sm mr-1 ml-1 \" + plannedActivity.category_key;\r\n\r\n        return (\r\n            <span key={plannedActivity.id}>\r\n                <StravaImportButton buttonClass={buttonClass} buttonContent={(\r\n                        <>\r\n                        {plannedActivity.activity_subtype}\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t<small>\r\n\t\t\t\t\t\t\t{plannedActivity.planned_distance_formatted && plannedActivity.planned_distance_formatted}\r\n                            {!plannedActivity.planned_distance_formatted && <>&nbsp;</>}\r\n\t\t\t\t\t\t    <br />&nbsp;\r\n\t\t\t\t\t\t</small>\r\n                        </>)} />\r\n\t\t\t</span>\r\n        );\r\n    }\r\n\r\n    renderPlannedExerciseButton = (plannedExercise) => {\r\n        const buttonClass = \"btn btn-sm mr-1  ml-1 \" + plannedExercise.category_key;\r\n\r\n        return (\r\n            <button key={plannedExercise.id} className={buttonClass} onClick={() => this.handleCompleteExercise(plannedExercise.id)}>\r\n                {plannedExercise.exercise_name }\r\n                <br />\r\n                <small>\r\n                    {plannedExercise.measured_by === \"reps\" &&\r\n                    <>[{plannedExercise.planned_reps} reps]</>}\r\n                    {plannedExercise.measured_by === \"seconds\" &&\r\n                    <>[{plannedExercise.planned_seconds} secs]</>}\r\n                    <br />\r\n                    {/* TODO: need to deduct completed sets */}\r\n                    {plannedExercise.planned_sets - plannedExercise.completed_sets} sets to do\r\n                </small>\r\n            </button>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const today = this.state.today;\r\n        const weekStartDate = this.state.weekStartDate;\r\n        const planningPeriod = this.props.planningPeriod;\r\n        const planningPeriodDate = planningPeriod === \"week\" ? weekStartDate : today\r\n        const planningPeriodDateFormatted = (planningPeriod === \"week\" ? \"week of \" : \"\") + dateFns.format(planningPeriodDate, \"DD MMMM\") + (planningPeriod === \"week\" ? \" (on any day)\" : \"\");\r\n        const planningPeriodFriendlyDescription = planningPeriod === \"week\" ? \" this week\" : \"today\";\r\n        const hasPlannedActivityForToday = this.props.user && this.props.user.has_planned_activity_for_today;\r\n        const hasPlannedActivityForThisWeek = this.props.user && this.props.user.has_planned_activity_for_this_week;\r\n        const hasPlannedActivityForPeriod = planningPeriod === \"week\" ? hasPlannedActivityForThisWeek : hasPlannedActivityForToday\r\n\r\n        const plannedActivities = filterPlannedActivities(this.props.plannedActivities, planningPeriodDate, planningPeriod);\r\n        const plannedActivityButtons = plannedActivities.map(this.renderPlannedActivityButton);\r\n\r\n        const plannedExerciseCategories = filterPlannedExercises(this.props.plannedExercises, planningPeriodDate, planningPeriod);\r\n        let plannedExerciseButtons = [];\r\n        for (let plannedExerciseCategory of plannedExerciseCategories) {\r\n            plannedExerciseButtons.push(plannedExerciseCategory.exercises.map(this.renderPlannedExerciseButton));\r\n        }\r\n\r\n        return (\r\n            <div className=\"card mt-3\">\r\n                <div className=\"card-header\">\r\n                    <h4>To Do for {planningPeriodDateFormatted}</h4>\r\n                </div>\r\n                <div className=\"card-body exercise-buttons\">\r\n\r\n                    {/* If there's planned activity for the day but nothing remaining then display well done message */}\r\n                    {hasPlannedActivityForPeriod && plannedActivities.length === 0 && plannedExerciseCategories.length === 0 &&\r\n                    <div className=\"alert alert-success\">\r\n                        <i className=\"fa fa-check-square-o fa-lg\"></i> Great work! You've ticked off your planned activities and exercises for {planningPeriodFriendlyDescription}!\r\n                    </div>}\r\n                    {!hasPlannedActivityForPeriod &&\r\n                    <p>You don't have any activities or exercises planned for {planningPeriodFriendlyDescription}. Chill out and let your muscles recover!</p>}\r\n                    {hasPlannedActivityForPeriod && (plannedActivities.length > 0 || plannedExerciseCategories.length > 0) &&\r\n                    <>\r\n                        <p>Here are your planned activities and exercises that you have left to do {planningPeriodFriendlyDescription}. Use the buttons to tick each one off.</p>\r\n                        {plannedActivityButtons}\r\n                        {plannedExerciseButtons}\r\n                    </>}\r\n                    <p className=\"mt-2 mb-0\">\r\n                        <a href=\"/training_plan\">Full Training Plan</a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        plannedActivities: state.plannedActivities,\r\n        plannedExercises: state.plannedExercises,\r\n        user: state.user\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        plannedActivityActions: bindActionCreators(plannedActivityActions, dispatch),\r\n        completedExerciseActions: bindActionCreators(completedExerciseActions, dispatch),\r\n        combinedRecentActivityActions: bindActionCreators(combinedRecentActivityActions, dispatch),\r\n        annualStatsActions: bindActionCreators(annualStatsActions, dispatch)\r\n    };\r\n}\r\n\r\nTodoContainer = connect(mapStateToProps, mapDispatchToProps)(TodoContainer);\r\n\r\nexport default TodoContainer;","import { format } from \"date-fns\";\r\n\r\nexport function filterPlannedActivities(plannedActivities, day, planningPeriod) {\r\n    const jsonDate = format(day, \"YYYY-MM-DD\");\r\n    const plannedActivitiesFiltered = plannedActivities.filter(plannedActivity => plannedActivity.planned_date === jsonDate && plannedActivity.planning_period === planningPeriod);\r\n    return plannedActivitiesFiltered;\r\n}\r\n\r\nexport function filterPlannedActivitiesById(plannedActivities, id) {\r\n    const plannedActivitiesFiltered = plannedActivities.filter(plannedActivity => plannedActivity.id === id);\r\n    return plannedActivitiesFiltered[0];\r\n}\r\n\r\nexport function filterPlannedRaces(plannedRaces, day) {\r\n    const jsonDate = format(day, \"YYYY-MM-DD\");\r\n    const plannedRacesFiltered = plannedRaces.filter(plannedRace => plannedRace.planned_date === jsonDate);\r\n    return plannedRacesFiltered;\r\n}\r\n\r\nexport function filterPlannedExercises(plannedExercises, day, planningPeriod) {\r\n    const jsonDate = format(day, \"YYYY-MM-DD\");\r\n    const plannedExercisesFiltered = plannedExercises.filter(plannedExerciseCategory => plannedExerciseCategory.planned_date === jsonDate && plannedExerciseCategory.planning_period === planningPeriod);\r\n    return plannedExercisesFiltered;\r\n}\r\n\r\nexport function filterCompletedActivities(completedActivities, day) {\r\n    const jsonDate = format(day, \"YYYY-MM-DD\");\r\n    const completedActivitiesFiltered = completedActivities.filter(completedActivity => completedActivity.activity_date === jsonDate);\r\n    return completedActivitiesFiltered;\r\n}\r\n\r\nexport function filterCompletedExercises(completedExercises, day) {\r\n    const jsonDate = format(day, \"YYYY-MM-DD\");\r\n    const completedExercisesFiltered = completedExercises.filter(completedExerciseCategory => completedExerciseCategory.exercise_date === jsonDate);\r\n    return completedExercisesFiltered;\r\n}","import React, { Component } from \"react\";\r\n\r\nclass CounterBox extends Component {\r\n    render() {\r\n        var classes = \"col m-2 \" +  this.props.categoryKey;\r\n\r\n        return(\r\n            <div className={classes}>\r\n                <small>{this.props.categoryName}:</small><br />\r\n                <span className=\"display-4\">{this.props.value}</span> {this.props.uom}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CounterBox;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport * as annualStatsActions from \"../actions/annualStatsActions\";\r\n\r\nimport CounterBox from \"./CounterBox\";\r\n\r\nclass CountersContainer extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.annualStatsActions.loadAnnualStats();\r\n    }\r\n\r\n    // function to be called from map() passing in array of counter objects \r\n    createCounterBoxes = (counter) => {\r\n        return <CounterBox key={counter.category_key} categoryName={counter.category_name} categoryKey={counter.category_key} value={counter.value} uom={counter.uom} />\r\n    }\r\n\r\n    render() {\r\n        const counters = this.props.annualStats.counters;\r\n        const counterBoxes = counters.map(this.createCounterBoxes);\r\n\r\n        return (\r\n            <>\r\n            {counters.length > 0 && (\r\n            <div>\r\n                <h4 className=\"mt-3\">{this.props.annualStats.heading}</h4>\r\n                <div className=\"row\">\r\n                    {counterBoxes}\r\n                </div>\r\n            </div>\r\n            )}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        annualStats: state.annualStats\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        annualStatsActions: bindActionCreators(annualStatsActions, dispatch)\r\n    };\r\n}\r\n\r\nCountersContainer = connect(mapStateToProps, mapDispatchToProps)(CountersContainer);\r\n\r\nexport default CountersContainer;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { format } from \"date-fns\";\r\n\r\nimport * as combinedRecentActivityActions from \"../actions/combinedRecentActivityActions\";\r\n\r\nclass RecentActivityContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // Todo: this should be a user preference and use redux, we'd also need to set it in the Todo Container\r\n        this.state = {\r\n            pageSize: 5\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.combinedRecentActivityActions.loadCombinedRecentActivities(1, this.state.pageSize);\r\n    }\r\n\r\n    handleViewNewerActivity = () => {\r\n        this.props.combinedRecentActivityActions.loadCombinedRecentActivities(this.props.combinedRecentActivities.prevPageNo, this.state.pageSize);\r\n    }\r\n\r\n    handleViewOlderActivity = () => {\r\n        this.props.combinedRecentActivityActions.loadCombinedRecentActivities(this.props.combinedRecentActivities.nextPageNo, this.state.pageSize);\r\n    }\r\n\r\n    renderRecentActivityRow = (recentActivity) => {\r\n        const activityUrl = \"/activity_analysis/\" + recentActivity.id;\r\n        const viewOnStravaUrl = \"https://www.strava.com/activities/\" + recentActivity.external_id;\r\n        const exerciseDatetimeFormatted = format(new Date(recentActivity.activity_datetime), \"ddd DD MMM HH:mm:ss\");\r\n\r\n        const editFormInitData = {\r\n            id: recentActivity.id,\r\n            exercise_name: recentActivity.name,\r\n            exercise_datetime: exerciseDatetimeFormatted,\r\n            measured_by: recentActivity.measured_by,\r\n            reps: recentActivity.reps,\r\n            seconds: recentActivity.seconds\r\n        }\r\n\r\n        return (\r\n            <tr key={recentActivity.id}>\r\n                <td>{exerciseDatetimeFormatted}</td>\r\n                <td>\r\n                    {recentActivity.scheduled_exercise_id &&\r\n                    <><i className=\"fa fa-check-square-o\"></i>&nbsp;</>}\r\n                    {recentActivity.is_race &&\r\n                    <><i className=\"fa fa-flag-checkered\"></i>&nbsp;</>}\r\n                    {recentActivity.source === \"Strava\" &&\r\n                    <a href={activityUrl}>{recentActivity.name}</a>}\r\n                    {!(recentActivity.source === \"Strava\") &&\r\n                    recentActivity.name}\r\n                </td>\r\n                <td>\r\n                    {recentActivity.measured_by === \"reps\" &&\r\n                    <>{recentActivity.reps} reps</>}\r\n                    {recentActivity.measured_by === \"seconds\" &&\r\n                    <>{recentActivity.seconds} secs </>}\r\n                    {recentActivity.measured_by === \"distance\" &&\r\n                    <>{recentActivity.distance_formatted}</>}\r\n                </td>\r\n                <td>\r\n                    {recentActivity.source === \"Exercise\" &&\r\n                    <a href=\"#edit\" onClick={() => this.props.onEditCompletedExercise(editFormInitData)}><i className=\"fa fa-edit\"></i> Edit</a>}\r\n                    {recentActivity.source === \"Strava\" &&\r\n                    <a href={viewOnStravaUrl}>View on Strava</a>}\r\n                </td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const recentActivities = this.props.combinedRecentActivities.activitiesAndExercises;\r\n        const recentActivityRows = recentActivities.map(this.renderRecentActivityRow);\r\n        const newerNavClass = \"page-item\" + (this.props.combinedRecentActivities.prevPageNo ? \"\" : \" disabled\");\r\n        const olderNavClass = \"page-item\" + (this.props.combinedRecentActivities.nextPageNo ? \"\" : \" disabled\");\r\n\r\n        return (\r\n            <>\r\n            {recentActivities.length > 0 &&\r\n            <div className=\"mt-2\">\r\n                <div className=\"row align-items-end\">\r\n                    <div className=\"col-md\">\r\n                        <h4 className=\"mt-3\">Recently added activity</h4>\r\n                        <p>(Go to <a href=\"/weekly_activity/current\">Analysis & Goals</a> to see more activity)</p>\r\n                    </div>\r\n                    <div className=\"col-md\">\r\n                        <nav>\r\n                            <ul className=\"pagination-sm nav justify-content-end ml-auto mb-2\">\t\t\t\t\t\r\n                                <li className={newerNavClass}>\r\n                                    <button className=\"page-link\" onClick={() => this.handleViewNewerActivity()}>Newer</button>\r\n                                </li>\r\n                                <li className={olderNavClass}>\r\n                                <button className=\"page-link\" onClick={() => this.handleViewOlderActivity()}>Older</button>\r\n                                </li>\r\n                            </ul>\r\n                        </nav>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col\">\r\n                        <table className=\"table table-sm table-hover\">\r\n                            <tbody>                        \r\n                                {recentActivityRows}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        combinedRecentActivities: state.combinedRecentActivities\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        combinedRecentActivityActions: bindActionCreators(combinedRecentActivityActions, dispatch)\r\n    };\r\n}\r\n\r\nRecentActivityContainer = connect(mapStateToProps, mapDispatchToProps)(RecentActivityContainer);\r\n\r\nexport default RecentActivityContainer;","import { pendingTask, begin, end } from \"react-redux-spinner\";\r\n\r\nimport * as types from \"./actionTypes\";\r\nimport CompletedActivitiesApi from \"../api/CompletedActivitiesApi\";\r\nimport { loadCompletedExercisesSuccess } from \"./completedExerciseActions\";\r\nimport { showAlert } from \"./alertActions\";\r\n\r\nexport function loadCompletedActivities(startDate, endDate) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.LOAD_COMPLETED_ACTIVITIES,\r\n            [ pendingTask ]: begin\r\n        });\r\n        const api = new CompletedActivitiesApi();\r\n        return api.getCompletedActivities(startDate, endDate).then(responseData => {\r\n            if (responseData) {\r\n                dispatch(loadCompletedActivitiesSuccess(responseData));\r\n                dispatch(loadCompletedExercisesSuccess(responseData));\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            });\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function loadCompletedActivitiesSuccess(responseData) {\r\n    return {\r\n        type: types.LOAD_COMPLETED_ACTIVITIES_SUCCESS,\r\n        [ pendingTask ]: end,\r\n        completedActivities: responseData.completed_activities\r\n    };\r\n}\r\n\r\nexport function addCompletedActivities(requestBody) {\r\n    return function(dispatch) {\r\n        dispatch({\r\n            type: types.ADD_COMPLETED_ACTIVITIES,\r\n            [ pendingTask ]: begin\r\n        });\r\n\r\n        const api = new CompletedActivitiesApi();\r\n        return api.postCompletedActivities(requestBody).then(responseData => {\r\n            dispatch(addCompletedActivitiesSuccess(responseData, dispatch));\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: types.ERROR_ENCOUNTERED,\r\n                [ pendingTask ]: end\r\n            })\r\n            throw(error);\r\n        });\r\n    }\r\n}\r\n\r\nexport function addCompletedActivitiesSuccess(responseData, dispatch) {\r\n    // for now we'll just use the 1st message as the alert but we can develop a means to show all of them in future\r\n    const alertMessage = responseData.messages[0];\r\n    dispatch(showAlert(alertMessage));\r\n\r\n    return {\r\n        type: types.ADD_COMPLETED_ACTIVITIES_SUCCESS,\r\n        [ pendingTask ]: end\r\n    };\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { OauthReceiver } from \"react-oauth-flow\";\r\nimport ls from \"local-storage\";\r\nimport { startOfWeek } from \"date-fns\";\r\n\r\nimport * as userActions from \"../actions/userActions\";\r\nimport * as completedActivityActions from \"../actions/completedActivityActions\";\r\nimport * as plannedActivityActions from \"../actions/plannedActivityActions\";\r\nimport * as combinedRecentActivityActions from \"../actions/combinedRecentActivityActions\";\r\nimport * as annualStatsActions from \"../actions/annualStatsActions\";\r\nimport StravaImportButton from \"./StravaImportButton\";\r\n\r\nclass StravaImportContainer extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            today: new Date(),\r\n            weekStartDate: startOfWeek(new Date(), {weekStartsOn: 1})\r\n        }\r\n    }\r\n\r\n    handleAuthorizationSuccess = async (accessToken, { response, state }) => {\r\n        this.props.userActions.updateUserStravaAccessToken(accessToken);\r\n        // hedging bets at the moment, might be better to have it in localstorage\r\n        ls.set(\"stravaAccessToken\", accessToken);\r\n        \r\n        // Call the Training Ticks API for importing activities\r\n        const requestBody = JSON.stringify({ \r\n            strava_access_token: accessToken\r\n        });\r\n        \r\n        this.props.completedActivityActions.addCompletedActivities(requestBody).then(result => {\r\n            this.props.plannedActivityActions.loadPlannedActivities(this.state.weekStartDate, this.state.today);\r\n            this.props.combinedRecentActivityActions.loadCombinedRecentActivities(1, 5);\r\n            this.props.annualStatsActions.loadAnnualStats();\r\n        });\r\n    }\r\n\r\n    handleAuthorizationError = (error) => {\r\n        // use the monitoring API to log the error\r\n        const endpoint = window.location.origin === \"http://localhost:3000\" ? \"http://localhost:5000/api/monitoring\" : (origin + \"/api/monitoring\");\r\n        const requestBody = JSON.stringify({ \r\n            type: \"error\",\r\n            message: error.message\r\n        });\r\n        const options = {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: requestBody,\r\n            mode: \"cors\"\r\n        };\r\n        fetch(endpoint, options);\r\n        console.log(error.message);\r\n    }\r\n    \r\n    render() {\r\n        const redirectUri = window.location.origin + \"/hub\";\r\n        const stravaAuthCreds = this.props.user && {\r\n            clientId: this.props.user.strava_client_id,\r\n            clientSecret: this.props.user.strava_client_secret\r\n        };\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        \r\n        return (\r\n            <>\r\n            {stravaAuthCreds && (\r\n            <div className=\"card mt-3\">\r\n                <div className=\"card-header\">\r\n                    <h4>Import new activities from Strava</h4>\r\n                </div>\r\n                <div className=\"card-body exercise-buttons\">\r\n                    <StravaImportButton buttonContent={(<img src={require(\"../static/img/btn_strava_connectwith_orange.png\")} alt=\"Connect With Strava\" />)} />\r\n                    {(urlParams.has(\"code\") || urlParams.has(\"error\")) && (\r\n                    <OauthReceiver\r\n                        tokenUrl=\"https://www.strava.com/oauth/token\"\r\n                        clientId={stravaAuthCreds.clientId}\r\n                        clientSecret={stravaAuthCreds.clientSecret}\r\n                        redirectUri={redirectUri}\r\n                        onAuthSuccess={this.handleAuthorizationSuccess}\r\n                        onAuthError={this.handleAuthorizationError} />\r\n                    )}\r\n                </div>\r\n            </div>)}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.user\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        userActions: bindActionCreators(userActions, dispatch),\r\n        completedActivityActions: bindActionCreators(completedActivityActions, dispatch),\r\n        plannedActivityActions: bindActionCreators(plannedActivityActions, dispatch),\r\n        combinedRecentActivityActions: bindActionCreators(combinedRecentActivityActions, dispatch),\r\n        annualStatsActions: bindActionCreators(annualStatsActions, dispatch)\r\n    };\r\n}\r\n\r\nStravaImportContainer = connect(mapStateToProps, mapDispatchToProps)(StravaImportContainer);\r\n\r\nexport default StravaImportContainer;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass ExerciseTypeButtonSet extends Component {\r\n\r\n    renderExerciseTypeButton = (exerciseType) => {\r\n        const buttonClass = \"btn btn-sm ml-1 mr-1 \" + (exerciseType.category_key ? exerciseType.category_key : \"uncategorised\");\r\n\r\n        return (\r\n            <button key={exerciseType.id} className={buttonClass} onClick={() => this.props.onAdd(exerciseType.id)}>\r\n                <i className=\"fa fa-calendar-plus-o\"></i> {exerciseType.exercise_name}\r\n                <br />\r\n                <small>\r\n                    [{exerciseType.measured_by === \"reps\" && (exerciseType.default_reps + \" reps\")}{exerciseType.measured_by === \"seconds\" && (exerciseType.default_seconds + \" seconds\")}]\r\n                </small>\r\n\t\t\t</button>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const exerciseTypeIdsToExclude = this.props.exerciseTypeIdsToExclude ? this.props.exerciseTypeIdsToExclude : [];\r\n        const exerciseTypes = this.props.exerciseTypes.filter(({ id }) => !exerciseTypeIdsToExclude.includes(id));\r\n        const exerciseTypeButtons = exerciseTypes.map(this.renderExerciseTypeButton);\r\n\r\n        return(\r\n            <>\r\n            <button key=\"new\" className=\"btn btn-sm ml-1 mr-1 btn-secondary new-exercise-type\" onClick={() => this.props.onAdd(null)}>\r\n                <i className=\"fa fa-calendar-plus-o\"></i> New Exercise Type\r\n                <br />\r\n                <small>&nbsp;</small>\r\n\t\t\t</button>\r\n            {exerciseTypeButtons}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        exerciseTypes: state.exerciseTypes\r\n    };\r\n}\r\n\r\nExerciseTypeButtonSet = connect(mapStateToProps)(ExerciseTypeButtonSet);\r\n\r\nexport default ExerciseTypeButtonSet;","import React, { Component } from \"react\";\r\nimport { reduxForm, Field, formValueSelector } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass CompletedExerciseFormModal extends Component {\r\n\r\n    componentDidMount() {\r\n        const { initData } = this.props;\r\n        this.props.initialize(initData);\r\n    }\r\n\r\n    renderCategorySelectOption = (categoryOption) => {\r\n        return (\r\n            <option key={categoryOption.id} value={categoryOption.id}>{categoryOption.category_name}</option>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { handleSubmit, initData } = this.props;\r\n        let categorySelectOptions;\r\n\r\n        if (initData.isNewExerciseType) {\r\n            categorySelectOptions = initData.categoryOptions.map(this.renderCategorySelectOption);\r\n        }\r\n\r\n        return (\r\n            <div className=\"modal-back-drop\">\r\n                <div className=\"modal-wrapper\">\r\n                    <div className=\"generic-modal-header\">\r\n                        <div className=\"d-inline\">\r\n                            <h4>Completed {initData.isNewExerciseType ? \"New Exercise Type\" : initData.exercise_name}</h4>\r\n                        </div>\r\n                        <span className=\"close-modal-btn\" onClick={this.props.close}><i className=\"fa fa-window-close\"></i></span>\r\n                    </div>\r\n                    <div className=\"generic-modal-body\">\r\n                        <p>{initData.exercise_datetime}</p>\r\n                        <form onSubmit={handleSubmit} className=\"form\">                            \r\n                            {initData.isNewExerciseType && (\r\n                                <>\r\n                                <div className=\"form-group \">\r\n                                    <Field component={renderField} type=\"text\" id=\"exercise_name\" name=\"exercise_name\" label=\"Exercise Name\" />\r\n                                </div>\r\n                                <div className=\"form-group \">\r\n                                    <label className=\"form-control-label\" htmlFor=\"measured_by\">Measured By</label>\r\n                                    <Field component=\"select\" className=\"form-control\" id=\"measured_by\" name=\"measured_by\">\r\n                                        <option value=\"reps\">Reps</option>\r\n                                        <option value=\"seconds\">Time (seconds)</option>\r\n                                    </Field>\r\n                                </div>\r\n                                </>\r\n                            )}\r\n                            {((!this.props.measuredByValue && initData.measured_by === \"reps\") || this.props.measuredByValue === \"reps\") && (\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"form-control-label\" htmlFor=\"reps\">Reps</label>\r\n                                    <Field component=\"input\" type=\"number\" className=\"form-control\" id=\"reps\" name=\"reps\" />\r\n                                </div>\r\n                            )}\r\n                            {((!this.props.measuredByValue && initData.measured_by === \"seconds\") || this.props.measuredByValue === \"seconds\") && (\r\n                                <div className=\"form-group\">\r\n                                    <label className=\"form-control-label\" htmlFor=\"seconds\">Seconds</label>\r\n                                    <Field component=\"input\" type=\"number\" className=\"form-control\" id=\"seconds\" name=\"seconds\" />\r\n                                </div>\r\n                            )}\r\n                            {initData.isNewExerciseType && initData.categoryOptions && initData.categoryOptions.length > 0 && (\r\n                                <>\r\n                                <div className=\"form-group \">\r\n                                    <label className=\"form-control-label\" htmlFor=\"exercise_category_id\">Category</label>\r\n                                    <Field component=\"select\" className=\"form-control\" id=\"exercise_category_id\" name=\"exercise_category_id\">\r\n                                        {categorySelectOptions}\r\n                                    </Field>\r\n                                </div>\r\n                                </>\r\n                            )}\r\n                            <button type=\"submit\" className=\"btn btn-primary mr-1\">Save Exercise</button>\r\n                            <button type=\"button\" className=\"btn btn-secondary\" onClick={this.props.close}>Cancel</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n}\r\n\r\nconst renderField = ({ input, label, type, meta: { touched, error, warning } }) => {\r\n    return (\r\n        <div>\r\n            <label className=\"form-control-label\">{label}</label>\r\n            <div>\r\n            <input className=\"form-control\" {...input} type={type}/>\r\n            {touched && ((error && <div className=\"error mt-1\">{error}</div>) || (warning && <span>{warning}</span>))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nCompletedExerciseFormModal = reduxForm({\r\n    form: \"completedExercise\"\r\n})(CompletedExerciseFormModal);\r\n\r\n// we want access to other form values\r\nconst selector = formValueSelector(\"completedExercise\");\r\nCompletedExerciseFormModal = connect(\r\n    (state) => {\r\n        const measuredByValue = selector(state, \"measured_by\")\r\n        return { measuredByValue };\r\n    }\r\n)(CompletedExerciseFormModal)\r\n\r\nexport default CompletedExerciseFormModal;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport * as dateFns from \"date-fns\";\r\nimport { Spinner } from \"react-redux-spinner\";\r\n\r\nimport * as plannedActivityActions from \"../actions/plannedActivityActions\";\r\nimport * as completedExerciseActions from \"../actions/completedExerciseActions\";\r\nimport * as combinedRecentActivityActions from \"../actions/combinedRecentActivityActions\";\r\nimport * as userActions from \"../actions/userActions\";\r\nimport * as activityTypeActions from \"../actions/activityTypeActions\";\r\nimport * as annualStatsActions from \"../actions/annualStatsActions\";\r\nimport Alert from \"./Alert\";\r\nimport TodoContainer from \"./TodoContainer\";\r\nimport CountersContainer from \"./CountersContainer\";\r\nimport RecentActivityContainer from \"./RecentActivityContainer\";\r\nimport StravaImportContainer from \"./StravaImportContainer\";\r\nimport ExerciseTypeButtonSet from \"./ExerciseTypeButtonSet\";\r\nimport CompletedExerciseFormModal from \"./CompletedExerciseFormModal\";\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showCompletedExerciseForm: false,\r\n            completedExerciseFormInitData: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const today = new Date();\r\n        const weekStartDate = dateFns.startOfWeek(today, {weekStartsOn: 1});\r\n        this.props.plannedActivityActions.loadPlannedActivities(weekStartDate, today);\r\n        this.props.userActions.loadUserInfo();\r\n        this.props.activityTypeActions.loadActivityTypes();\r\n    }\r\n\r\n    handleCompleteAdhocExercise = (exerciseTypeId) => {\r\n        if (!exerciseTypeId) {\r\n            const formInitData = {\r\n                isNewExerciseType: true,\r\n                measured_by: \"reps\",\r\n                categoryOptions: this.props.exerciseCategories,\r\n                exercise_category_id: (this.props.exerciseCategories.length > 0) ? this.props.exerciseCategories[0].id : null\r\n            }\r\n            this.setState({\r\n                showCompletedExerciseForm: true,\r\n                completedExerciseFormInitData: formInitData\r\n            });\r\n        } else {\r\n            const requestBody = JSON.stringify({ \r\n                exercise_type_id: exerciseTypeId\r\n            });\r\n            \r\n            this.props.completedExerciseActions.addCompletedExercise(requestBody).then(result => {\r\n                this.props.combinedRecentActivityActions.loadCombinedRecentActivities(1, 5);\r\n                this.props.annualStatsActions.loadAnnualStats();\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    handleEditCompletedExercise = (formInitData) => {\r\n        this.setState({\r\n            showCompletedExerciseForm: true,\r\n            completedExerciseFormInitData: formInitData\r\n        });\r\n    }\r\n\r\n    handleSaveCompletedExercise = (values) => {\r\n        if (values.id) {    \r\n            const requestBody = JSON.stringify({ \r\n                reps: values.reps,\r\n                seconds: values.seconds\r\n            });\r\n            this.props.completedExerciseActions.updateCompletedExercise(values.id, requestBody).then(result => {\r\n                this.props.combinedRecentActivityActions.loadCombinedRecentActivities(1, 5);\r\n            });\r\n        } else {\r\n            const requestBody = JSON.stringify({\r\n                exercise_name: values.exercise_name,\r\n                measured_by: values.measured_by,\r\n                exercise_category_id: values.exercise_category_id,\r\n                reps: values.reps,\r\n                seconds: values.seconds\r\n            });\r\n            this.props.completedExerciseActions.addCompletedExercise(requestBody).then(result => {\r\n                this.props.combinedRecentActivityActions.loadCombinedRecentActivities(1, 5);\r\n                // we need to refresh buttons too to pick up the new one!\r\n                this.props.activityTypeActions.loadActivityTypes();\r\n            });\r\n        }\r\n\r\n        this.setState({\r\n            showCompletedExerciseForm: false,\r\n        });\r\n    }\r\n\r\n    handleCloseCompletedExerciseForm = () => {\r\n        this.setState({\r\n            showCompletedExerciseForm: false,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const user = this.props.user;\r\n        \r\n        let exerciseTypeIdsToExcludeFromAdhocButtons = [];\r\n        for (let categoryAndPeriodGroup of this.props.plannedExercises) {\r\n            for (let exercise of categoryAndPeriodGroup.exercises) {\r\n                exerciseTypeIdsToExcludeFromAdhocButtons.push(exercise.exercise_type_id);\r\n            }\r\n        }\r\n\r\n        return (\r\n            // This is where we can add routing in due course\r\n            <>\r\n            <Spinner />\r\n            <Alert onActionLinkClick={this.handleEditCompletedExercise} />\r\n            {user && (!user.has_flexible_planning_enabled || user.has_planned_activity_for_today) && (\r\n            <TodoContainer planningPeriod=\"day\" />)}\r\n            {user && user.has_flexible_planning_enabled && (user.has_planned_activity_for_this_week || !user.has_planned_activity_for_today) && (\r\n            <TodoContainer planningPeriod=\"week\" />)}\r\n            <RecentActivityContainer onEditCompletedExercise={this.handleEditCompletedExercise} />\r\n            <StravaImportContainer />\r\n            <div className=\"card mt-3\">\r\n                <div className=\"card-header\">\r\n                    <h4>Record adhoc exercises</h4>\r\n                </div>\r\n                <div className=\"card-body exercise-buttons\">\r\n                    <p>Wanting to do a few extra exercises? Use the buttons below to record them as you complete each exercise, without adding to your training plan.</p>\r\n                    <ExerciseTypeButtonSet calendarDay={this.props.calendarDay} onAdd={this.handleCompleteAdhocExercise} exerciseTypeIdsToExclude={exerciseTypeIdsToExcludeFromAdhocButtons} />\r\n                </div>\r\n            </div>\r\n            <CountersContainer />\r\n            {this.state.showCompletedExerciseForm && (\r\n            <CompletedExerciseFormModal className=\"modal\" initData={this.state.completedExerciseFormInitData} onSubmit={this.handleSaveCompletedExercise} close={this.handleCloseCompletedExerciseForm} />)}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        user: state.user,\r\n        plannedExercises: state.plannedExercises,\r\n        exerciseCategories: state.exerciseCategories\r\n    };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        plannedActivityActions: bindActionCreators(plannedActivityActions, dispatch),\r\n        completedExerciseActions: bindActionCreators(completedExerciseActions, dispatch),\r\n        combinedRecentActivityActions: bindActionCreators(combinedRecentActivityActions, dispatch),\r\n        userActions: bindActionCreators(userActions, dispatch),\r\n        activityTypeActions: bindActionCreators(activityTypeActions, dispatch),\r\n        annualStatsActions: bindActionCreators(annualStatsActions, dispatch)\r\n    };\r\n}\r\n\r\nApp = connect(mapStateToProps, mapDispatchToProps)(App);\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { createStore, combineReducers, applyMiddleware } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport { pendingTasksReducer } from \"react-redux-spinner\";\r\n\r\nimport combinedRecentActivitiesReducer from \"./reducers/combinedRecentActivitiesReducer\"\r\nimport completedActivitiesReducer from \"./reducers/completedActivitiesReducer\";\r\nimport plannedActivitiesReducer from \"./reducers/plannedActivitiesReducer\";\r\nimport completedExercisesReducer from \"./reducers/completedExercisesReducer\";\r\nimport plannedExercisesReducer from \"./reducers/plannedExercisesReducer\";\r\nimport userReducer from \"./reducers/userReducer\";\r\nimport exerciseTypesReducer from \"./reducers/exerciseTypesReducer\";\r\nimport exerciseCategoriesReducer from \"./reducers/exerciseCategoriesReducer\";\r\nimport annualStatsReducer from \"./reducers/annualStatsReducer\";\r\nimport alertReducer from \"./reducers/alertReducer\";\r\nimport App from \"./components/App\";\r\nimport \"./base.css\";\r\n\r\nconst rootReducer = combineReducers({\r\n    form: formReducer,\r\n    combinedRecentActivities: combinedRecentActivitiesReducer,\r\n    completedActivities: completedActivitiesReducer,\r\n    plannedActivities: plannedActivitiesReducer,\r\n    completedExercises: completedExercisesReducer,\r\n    plannedExercises: plannedExercisesReducer,\r\n    user: userReducer,\r\n    exerciseTypes: exerciseTypesReducer,\r\n    exerciseCategories: exerciseCategoriesReducer,\r\n    annualStats: annualStatsReducer,\r\n    pendingTasks: pendingTasksReducer,\r\n    alert: alertReducer\r\n});\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    applyMiddleware(thunk)\r\n);\r\n\r\n// Use a Main class that we can flesh out to include routing as we start to do more of the site's functionality from React\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById(\"container\")\r\n);","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function combinedRecentActivitiesReducer(state, action) {\r\n    if (state === undefined) {\r\n        return {\r\n            pageNo: null,\r\n            prevPageNo: null,\r\n            nextPageNo: 1,\r\n            activitiesAndExercises: []\r\n        }\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_COMBINED_RECENT_ACTIVITIES_SUCCESS:\r\n            return {\r\n                pageNo: action.pageNo,\r\n                prevPageNo: action.prevPageNo,\r\n                nextPageNo: action.nextPageNo,\r\n                activitiesAndExercises: action.activitiesAndExercises\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function completedActivitiesReducer(state, action) {\r\n    if (state === undefined) {\r\n        return [];\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_COMPLETED_ACTIVITIES_SUCCESS:\r\n            return action.completedActivities;\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function plannedActivitiesReducer(state, action) {\r\n    if (state === undefined) {\r\n        return [];\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_PLANNED_ACTIVITIES_SUCCESS:\r\n            return action.plannedActivities;\r\n        // todo: doesn't handle single-date scope at present\r\n        // case types.DELETE_PLANNED_ACTIVITY_SUCCESS:\r\n        //     const remainingActivities = state.filter(function(plannedActivity) {\r\n        //         return plannedActivity.id !== action.deletedId;\r\n        //     });\r\n        //     return remainingActivities;\r\n        // TODO: proper reducer for adds and updates so that we can avoid the refresh to update state.  Probably more easy to think about once our data model allows for one-offs?\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function completedExercisesReducer(state, action) {\r\n    if (state === undefined) {\r\n        return [];\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_COMPLETED_EXERCISES_SUCCESS:\r\n            return action.completedExercises;\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function plannedExercisesReducer(state, action) {\r\n    if (state === undefined) {\r\n        return [];\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_PLANNED_EXERCISES_SUCCESS:\r\n            return action.plannedExercises;\r\n        // todo: doesn't handle single-date scope at present\r\n        // case types.DELETE_PLANNED_EXERCISE_SUCCESS:\r\n        //     let remainingPlannedExerciseCategories = []\r\n        //     let remainingExercises;\r\n        //     for (let plannedExerciseCategory of state) {\r\n        //         remainingExercises = plannedExerciseCategory.exercises.filter(function(plannedExercise) {\r\n        //             return plannedExercise.id !== action.deletedId;\r\n        //         });\r\n        //         if (remainingExercises.length > 0) {\r\n        //             plannedExerciseCategory.exercises = remainingExercises;\r\n        //             remainingPlannedExerciseCategories.push(plannedExerciseCategory);\r\n        //         }\r\n        //     }\r\n        //     return remainingPlannedExerciseCategories;\r\n        // todo: proper reducers for update and create that avoid the need to refresh\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function userReducer(state, action) {\r\n    if (state === undefined) {\r\n        return null;\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_USER_INFO_SUCCESS:\r\n            return {\r\n                distance_uom_preference: action.userInfo.distance_uom_preference,\r\n                has_flexible_planning_enabled: action.userInfo.has_flexible_planning_enabled,\r\n                has_planned_activity_for_today: action.userInfo.has_planned_activity_for_today,\r\n                has_planned_activity_for_this_week: action.userInfo.has_planned_activity_for_this_week,\r\n                strava_client_id: action.userInfo.strava_client_id,\r\n                strava_client_secret: action.userInfo.strava_client_secret,\r\n                ...state\r\n            };\r\n        case types.UPDATE_USER_INFO_SUCCESS:\r\n            return {\r\n                distance_uom_preference: action.updatedUserInfo.distance_uom_preference,\r\n                has_flexible_planning_enabled: action.updatedUserInfo.has_flexible_planning_enabled,\r\n                has_planned_activity_for_today: action.updatedUserInfo.has_planned_activity_for_today,\r\n                has_planned_activity_for_this_week: action.updatedUserInfo.has_planned_activity_for_this_week,\r\n                ...state\r\n            };\r\n        case types.STORE_USER_STRAVA_ACCESS_TOKEN:\r\n            return {\r\n                ...state,\r\n                strava_access_token: action.stravaAccessToken\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function exerciseTypesReducer(state, action) {\r\n    if (state === undefined) {\r\n        return [];\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_EXERCISE_TYPES_SUCCESS:\r\n            return action.exerciseTypes;\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function exerciseCategoriesReducer(state, action) {\r\n    if (state === undefined) {\r\n        return [];\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_EXERCISE_CATEGORIES_SUCCESS:\r\n            return action.exerciseCategories;\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function annualStatsReducer(state, action) {\r\n    if (state === undefined) {\r\n        return {\r\n            heading: \"\",\r\n            counters: []\r\n        };\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.LOAD_ANNUAL_STATS_SUCCESS:\r\n            return action.annualStats;\r\n        default:\r\n            return state;\r\n    }\r\n}","import * as types from \"../actions/actionTypes\";\r\n\r\nexport default function alertReducer(state, action) {\r\n    if (state === undefined) {\r\n        return {\r\n            showAlert: false,\r\n            message: null\r\n        };\r\n    }\r\n\r\n    switch(action.type) {\r\n        case types.SHOW_ALERT:\r\n            return {\r\n                showAlert: true,\r\n                message: action.alertMessage,\r\n                actionLinkText: action.actionLinkText,\r\n                actionFormInitData: action.actionFormInitData\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}"],"sourceRoot":""}